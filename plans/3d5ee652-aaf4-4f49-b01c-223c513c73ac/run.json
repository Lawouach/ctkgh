{
  "chaoslib-version": "1.33.1",
  "platform": "Linux-5.15.0-1031-azure-x86_64-with-glibc2.35",
  "node": "fv-az471-826",
  "experiment": {
    "title": "SLO error-count-3h / Error budget 10%",
    "method": [],
    "runtime": {
      "hypothesis": {
        "strategy": "after-method-only"
      }
    },
    "version": "1.0.0",
    "controls": [
      {
        "name": "reliably",
        "provider": {
          "type": "python",
          "module": "chaosreliably.controls.experiment",
          "arguments": {
            "exp_id": "b27b5d0a-aaf2-4213-aa66-019a198ec52e",
            "org_id": "8f67bb6a-4944-40af-80b0-921023467cdc"
          }
        }
      }
    ],
    "description": "Monitor the health of our demo service from our users perspective and ensure they have a high-quality experience",
    "contributions": {
      "quality": "medium",
      "security": "none",
      "performance": "low",
      "availability": "high"
    },
    "steady-state-hypothesis": {
      "title": "Compute SLO and validate its Error Budget with our target",
      "probes": [
        {
          "name": "get-slo",
          "type": "probe",
          "provider": {
            "func": "compute_slo",
            "type": "python",
            "module": "chaosreliably.activities.slo.probes",
            "arguments": {
              "slo": {
                "kind": "ServiceLevelObjective",
                "spec": {
                  "goal": 0.9,
                  "method": "good_bad_ratio",
                  "backend": "cloud_monitoring_mql",
                  "exporters": [],
                  "description": "Availability of Cloud Run service",
                  "service_level_indicator": {
                    "filter_good": "fetch cloud_run_revision | metric 'run.googleapis.com/request_count' | filter resource.project_id == '${CLOUDRUN_PROJECT_ID}' | filter resource.service_name == '${CLOUDRUN_SERVICE_NAME}' | filter metric.response_code_class == '2xx'",
                    "filter_valid": "fetch cloud_run_revision | metric 'run.googleapis.com/request_count' | filter resource.project_id == '${CLOUDRUN_PROJECT_ID}' | filter resource.service_name == '${CLOUDRUN_SERVICE_NAME}'"
                  }
                },
                "metadata": {
                  "name": "cloudrun-service-availability",
                  "labels": {
                    "slo_name": "availability",
                    "feature_name": "service",
                    "service_name": "cloudrun"
                  }
                },
                "apiVersion": "sre.google.com/v2"
              },
              "config": {
                "backends": {
                  "cloud_monitoring_mql": {
                    "project_id": "${STACKDRIVER_HOST_PROJECT_ID}"
                  }
                },
                "error_budget_policies": {
                  "default": {
                    "steps": [
                      {
                        "name": "3 hours",
                        "alert": false,
                        "window": 10800,
                        "message_ok": "Last 3 hours on track",
                        "message_alert": "Page the SRE team to defend the SLO",
                        "burn_rate_threshold": 9
                      }
                    ]
                  }
                }
              }
            }
          },
          "tolerance": {
            "name": "there-should-be-error-budget-left",
            "type": "probe",
            "provider": {
              "func": "has_error_budget_left",
              "type": "python",
              "module": "chaosreliably.activities.slo.tolerances",
              "arguments": {
                "name": "cloudrun-service-availability",
                "value": [
                  {
                    "name": "cloudrun-service-availability",
                    "description": "Availability of Cloud Run service",
                    "goal": 0.9,
                    "backend": "cloud_monitoring_mql",
                    "gap": 0.09905299999999995,
                    "error_budget_policy_step_name": "3 hours",
                    "error_budget_target": 0.09999999999999998,
                    "error_budget_measurement": 0.0009470000000000312,
                    "error_budget_burn_rate": 0.0,
                    "error_budget_burn_rate_threshold": 9.0,
                    "error_budget_minutes": 17.999999999999996,
                    "error_budget_remaining_minutes": 17.82953999999999,
                    "error_minutes": 0.1704600000000056,
                    "valid": true,
                    "timestamp": 1675873067,
                    "timestamp_human": "2023-02-08T16:17:47.449788+00:00",
                    "window": 10800,
                    "alert": false,
                    "consequence_message": "Last 3 hours on track",
                    "exporters": [],
                    "error_budget_policy": "default",
                    "sli_measurement": 0.999053,
                    "events_count": 16900,
                    "bad_events_count": 16,
                    "good_events_count": 16884,
                    "metadata": {
                      "name": "cloudrun-service-availability",
                      "labels": {
                        "slo_name": "availability",
                        "feature_name": "service",
                        "service_name": "cloudrun"
                      }
                    },
                    "errors": []
                  }
                ]
              }
            }
          }
        }
      ]
    },
    "dry": null,
    "extensions": [
      {
        "name": "reliably",
        "pauses": [],
        "termination": null,
        "execution_url": "https://app.reliably.dev/executions/view/?id=9110c0e4-d4e4-46f6-a13e-e27f69bf81a0&exp=b27b5d0a-aaf2-4213-aa66-019a198ec52e",
        "extra": [
          {
            "type": "url",
            "provider": "github",
            "topic": "commit",
            "value": "https://github.com/Lawouach/ctkgh/tree/main/plans/3d5ee652-aaf4-4f49-b01c-223c513c73ac"
          },
          {
            "type": "url",
            "provider": "github",
            "topic": "repo",
            "value": "https://github.com/Lawouach/ctkgh"
          },
          {
            "type": "url",
            "provider": "github",
            "topic": "run",
            "value": "https://github.com/Lawouach/ctkgh/actions/runs/4126135760"
          }
        ]
      }
    ]
  },
  "start": "2023-02-08T16:17:45.021297",
  "status": "completed",
  "deviated": false,
  "steady_states": {
    "before": null,
    "after": {
      "steady_state_met": true,
      "probes": [
        {
          "activity": {
            "name": "get-slo",
            "type": "probe",
            "provider": {
              "func": "compute_slo",
              "type": "python",
              "module": "chaosreliably.activities.slo.probes",
              "arguments": {
                "slo": {
                  "kind": "ServiceLevelObjective",
                  "spec": {
                    "goal": 0.9,
                    "method": "good_bad_ratio",
                    "backend": "cloud_monitoring_mql",
                    "exporters": [],
                    "description": "Availability of Cloud Run service",
                    "service_level_indicator": {
                      "filter_good": "fetch cloud_run_revision | metric 'run.googleapis.com/request_count' | filter resource.project_id == '${CLOUDRUN_PROJECT_ID}' | filter resource.service_name == '${CLOUDRUN_SERVICE_NAME}' | filter metric.response_code_class == '2xx'",
                      "filter_valid": "fetch cloud_run_revision | metric 'run.googleapis.com/request_count' | filter resource.project_id == '${CLOUDRUN_PROJECT_ID}' | filter resource.service_name == '${CLOUDRUN_SERVICE_NAME}'"
                    }
                  },
                  "metadata": {
                    "name": "cloudrun-service-availability",
                    "labels": {
                      "slo_name": "availability",
                      "feature_name": "service",
                      "service_name": "cloudrun"
                    }
                  },
                  "apiVersion": "sre.google.com/v2"
                },
                "config": {
                  "backends": {
                    "cloud_monitoring_mql": {
                      "project_id": "${STACKDRIVER_HOST_PROJECT_ID}"
                    }
                  },
                  "error_budget_policies": {
                    "default": {
                      "steps": [
                        {
                          "name": "3 hours",
                          "alert": false,
                          "window": 10800,
                          "message_ok": "Last 3 hours on track",
                          "message_alert": "Page the SRE team to defend the SLO",
                          "burn_rate_threshold": 9
                        }
                      ]
                    }
                  }
                }
              }
            },
            "tolerance": {
              "name": "there-should-be-error-budget-left",
              "type": "probe",
              "provider": {
                "func": "has_error_budget_left",
                "type": "python",
                "module": "chaosreliably.activities.slo.tolerances",
                "arguments": {
                  "name": "cloudrun-service-availability",
                  "value": [
                    {
                      "name": "cloudrun-service-availability",
                      "description": "Availability of Cloud Run service",
                      "goal": 0.9,
                      "backend": "cloud_monitoring_mql",
                      "gap": 0.09905299999999995,
                      "error_budget_policy_step_name": "3 hours",
                      "error_budget_target": 0.09999999999999998,
                      "error_budget_measurement": 0.0009470000000000312,
                      "error_budget_burn_rate": 0.0,
                      "error_budget_burn_rate_threshold": 9.0,
                      "error_budget_minutes": 17.999999999999996,
                      "error_budget_remaining_minutes": 17.82953999999999,
                      "error_minutes": 0.1704600000000056,
                      "valid": true,
                      "timestamp": 1675873067,
                      "timestamp_human": "2023-02-08T16:17:47.449788+00:00",
                      "window": 10800,
                      "alert": false,
                      "consequence_message": "Last 3 hours on track",
                      "exporters": [],
                      "error_budget_policy": "default",
                      "sli_measurement": 0.999053,
                      "events_count": 16900,
                      "bad_events_count": 16,
                      "good_events_count": 16884,
                      "metadata": {
                        "name": "cloudrun-service-availability",
                        "labels": {
                          "slo_name": "availability",
                          "feature_name": "service",
                          "service_name": "cloudrun"
                        }
                      },
                      "errors": []
                    }
                  ]
                }
              }
            },
            "_id": "b090e0972a40"
          },
          "output": [
            {
              "name": "cloudrun-service-availability",
              "description": "Availability of Cloud Run service",
              "goal": 0.9,
              "backend": "cloud_monitoring_mql",
              "gap": 0.09905299999999995,
              "error_budget_policy_step_name": "3 hours",
              "error_budget_target": 0.09999999999999998,
              "error_budget_measurement": 0.0009470000000000312,
              "error_budget_burn_rate": 0.0,
              "error_budget_burn_rate_threshold": 9.0,
              "error_budget_minutes": 17.999999999999996,
              "error_budget_remaining_minutes": 17.82953999999999,
              "error_minutes": 0.1704600000000056,
              "valid": true,
              "timestamp": 1675873067,
              "timestamp_human": "2023-02-08T16:17:47.449788+00:00",
              "window": 10800,
              "alert": false,
              "consequence_message": "Last 3 hours on track",
              "exporters": [],
              "error_budget_policy": "default",
              "sli_measurement": 0.999053,
              "events_count": 16900,
              "bad_events_count": 16,
              "good_events_count": 16884,
              "metadata": {
                "name": "cloudrun-service-availability",
                "labels": {
                  "slo_name": "availability",
                  "feature_name": "service",
                  "service_name": "cloudrun"
                }
              },
              "errors": []
            }
          ],
          "start": "2023-02-08T16:17:47.026264",
          "status": "succeeded",
          "end": "2023-02-08T16:17:48.412365",
          "duration": 1.386101,
          "tolerance_met": true
        }
      ]
    },
    "during": []
  },
  "run": [],
  "rollbacks": [],
  "end": "2023-02-08T16:17:49.946951",
  "duration": 4.927685499191284
}