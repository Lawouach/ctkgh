[2023-02-08 12:09:04 DEBUG] [cli:115] ###############################################################################
[2023-02-08 12:09:04 DEBUG] [cli:116] Running command 'run'
[2023-02-08 12:09:04 DEBUG] [cli:120] Using settings file '/home/runner/.config/reliably/plans/144acca3-879a-41e9-9994-ed8b0cd9ae22/ctk.yaml'
[2023-02-08 12:09:04 DEBUG] [__init__:243] Loading global control 'reliably-integration-slack' from /home/runner/.config/reliably/plans/144acca3-879a-41e9-9994-ed8b0cd9ae22/controls/f5647a66-9c5b-4bef-a801-821864c2e8e1.json
[2023-02-08 12:09:04 DEBUG] [__init__:243] Loading global control 'reliably-integration-opentelemetry' from /home/runner/.config/reliably/plans/144acca3-879a-41e9-9994-ed8b0cd9ae22/controls/b9df4af2-0719-405a-b732-41b7496b1de7.json
[2023-02-08 12:09:04 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'loader'
[2023-02-08 12:09:04 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py' does not declare 'before_loading_experiment_control'
[2023-02-08 12:09:04 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'loader'
[2023-02-08 12:09:04 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'before_loading_experiment_control'
[2023-02-08 12:09:05 DEBUG] [loader:129] Fetched experiment: 
    {"title":"SLO error-count-3h / Error budget 5%","method":[],"runtime":{"hypothesis":{"strategy":"after-method-only"}},"version":"1.0.0","controls":[{"name":"reliably","provider":{"type":"python","module":"chaosreliably.controls.experiment","arguments":{"exp_id":"11c4ee0f-16ef-44e5-826e-e2644bf4d426","org_id":"8f67bb6a-4944-40af-80b0-921023467cdc"}}}],"description":"Monitor the health of our demo service from our users perspective and ensure they have a high-quality experience","contributions":{"quality":"low","security":"none","performance":"medium","availability":"high"},"steady-state-hypothesis":{"title":"Compute SLO and validate its Error Budget with our target","probes":[{"name":"get-slo","type":"probe","provider":{"func":"compute_slo","type":"python","module":"chaosreliably.activities.slo.probes","arguments":{"slo":{"kind":"ServiceLevelObjective","spec":{"goal":0.95,"method":"good_bad_ratio","backend":"cloud_monitoring_mql","exporters":[],"description":"Availability of Cloud Run service","service_level_indicator":{"filter_good":"fetch cloud_run_revision | metric 'run.googleapis.com/request_count' | filter resource.project_id == '${CLOUDRUN_PROJECT_ID}' | filter resource.service_name == '${CLOUDRUN_SERVICE_NAME}' | filter metric.response_code_class == '2xx'","filter_valid":"fetch cloud_run_revision | metric 'run.googleapis.com/request_count' | filter resource.project_id == '${CLOUDRUN_PROJECT_ID}' | filter resource.service_name == '${CLOUDRUN_SERVICE_NAME}'"}},"metadata":{"name":"cloudrun-service-availability","labels":{"slo_name":"availability","feature_name":"service","service_name":"cloudrun"}},"apiVersion":"sre.google.com/v2"},"config":{"backends":{"cloud_monitoring_mql":{"project_id":"${STACKDRIVER_HOST_PROJECT_ID}"}},"error_budget_policies":{"default":{"steps":[{"name":"3 hours","alert":false,"window":10800,"message_ok":"Last 3 hours on track","message_alert":"Page the SRE team to defend the SLO","burn_rate_threshold":9}]}}}}},"tolerance":{"name":"there-should-be-error-budget-left","type":"probe","provider":{"func":"has_error_budget_left","type":"python","module":"chaosreliably.activities.slo.tolerances","arguments":{"name":"cloudrun-service-availability"}}}}]}}
[2023-02-08 12:09:05 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'loader'
[2023-02-08 12:09:05 DEBUG] [python:196] Control 'after_loading_experiment_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 12:09:05 DEBUG] [__init__:484] After-control 'reliably-integration-slack' failed
    Traceback (most recent call last):
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaoslib/control/__init__.py", line 465, in apply_controls
        apply_python_control(
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaoslib/control/python.py", line 179, in apply_python_control
        func(context=context, **arguments)
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py", line 41, in after_loading_experiment_control
        send(
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py", line 306, in send
        attachments=attachments(
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py", line 366, in attachments
        "text": f"*{experiment['title']}*",
    TypeError: string indices must be integers
[2023-02-08 12:09:05 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'loader'
[2023-02-08 12:09:05 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'after_loading_experiment_control'
[2023-02-08 12:09:05 DEBUG] [caching:24] Building activity cache...
[2023-02-08 12:09:05 DEBUG] [caching:35] Cached 1 activities
[2023-02-08 12:09:05 INFO] [experiment:58] Validating the experiment's syntax
[2023-02-08 12:09:05 DEBUG] [configuration:63] Loading configuration...
[2023-02-08 12:09:05 DEBUG] [secret:78] Loading secrets...
[2023-02-08 12:09:05 DEBUG] [secret:104] Done loading secrets
[2023-02-08 12:09:05 DEBUG] [caching:42] Clearing activities cache
[2023-02-08 12:09:05 ERROR] [cli:278] could not find Python module 'chaosreliably.activities.slo.probes' in activity 'get-slo'
[2023-02-08 12:09:05 DEBUG] [cli:279] could not find Python module 'chaosreliably.activities.slo.probes' in activity 'get-slo'
