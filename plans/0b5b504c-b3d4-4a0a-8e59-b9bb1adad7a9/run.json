{
  "chaoslib-version": "1.33.1",
  "platform": "Linux-5.15.0-1031-azure-x86_64-with-glibc2.35",
  "node": "fv-az555-14",
  "experiment": {
    "title": "SLO error-count-3h / Error budget 5%",
    "method": [],
    "runtime": {
      "hypothesis": {
        "strategy": "after-method-only"
      }
    },
    "version": "1.0.0",
    "controls": [
      {
        "name": "reliably",
        "provider": {
          "type": "python",
          "module": "chaosreliably.controls.experiment",
          "arguments": {
            "exp_id": "11c4ee0f-16ef-44e5-826e-e2644bf4d426",
            "org_id": "8f67bb6a-4944-40af-80b0-921023467cdc"
          }
        }
      }
    ],
    "description": "Monitor the health of our demo service from our users perspective and ensure they have a high-quality experience",
    "contributions": {
      "quality": "low",
      "security": "none",
      "performance": "medium",
      "availability": "high"
    },
    "steady-state-hypothesis": {
      "title": "Compute SLO and validate its Error Budget with our target",
      "probes": []
    },
    "dry": null,
    "extensions": [
      {
        "name": "reliably",
        "pauses": [],
        "termination": null,
        "execution_url": "https://app.reliably.dev/executions/view/?id=87dea0bc-2912-4929-ba61-d07378b10fd1&exp=11c4ee0f-16ef-44e5-826e-e2644bf4d426",
        "extra": [
          {
            "type": "url",
            "provider": "github",
            "topic": "commit",
            "value": "https://github.com/Lawouach/ctkgh/tree/main/plans/0b5b504c-b3d4-4a0a-8e59-b9bb1adad7a9"
          },
          {
            "type": "url",
            "provider": "github",
            "topic": "repo",
            "value": "https://github.com/Lawouach/ctkgh"
          },
          {
            "type": "url",
            "provider": "github",
            "topic": "run",
            "value": "https://github.com/Lawouach/ctkgh/actions/runs/4125177276"
          }
        ]
      }
    ]
  },
  "start": "2023-02-08T14:33:35.510522",
  "status": "failed",
  "deviated": true,
  "steady_states": {
    "before": null,
    "after": {
      "steady_state_met": false,
      "probes": [
        {
          "activity": {
            "name": "get-slo",
            "type": "probe",
            "provider": {
              "func": "compute_slo",
              "type": "python",
              "module": "chaosreliably.activities.slo.probes",
              "arguments": {
                "slo": {
                  "kind": "ServiceLevelObjective",
                  "spec": {
                    "goal": 0.95,
                    "method": "good_bad_ratio",
                    "backend": "cloud_monitoring_mql",
                    "exporters": [],
                    "description": "Availability of Cloud Run service",
                    "service_level_indicator": {
                      "filter_good": "fetch cloud_run_revision | metric 'run.googleapis.com/request_count' | filter resource.project_id == '${CLOUDRUN_PROJECT_ID}' | filter resource.service_name == '${CLOUDRUN_SERVICE_NAME}' | filter metric.response_code_class == '2xx'",
                      "filter_valid": "fetch cloud_run_revision | metric 'run.googleapis.com/request_count' | filter resource.project_id == '${CLOUDRUN_PROJECT_ID}' | filter resource.service_name == '${CLOUDRUN_SERVICE_NAME}'"
                    }
                  },
                  "metadata": {
                    "name": "cloudrun-service-availability",
                    "labels": {
                      "slo_name": "availability",
                      "feature_name": "service",
                      "service_name": "cloudrun"
                    }
                  },
                  "apiVersion": "sre.google.com/v2"
                },
                "config": {
                  "backends": {
                    "cloud_monitoring_mql": {
                      "project_id": "${STACKDRIVER_HOST_PROJECT_ID}"
                    }
                  },
                  "error_budget_policies": {
                    "default": {
                      "steps": [
                        {
                          "name": "3 hours",
                          "alert": false,
                          "window": 10800,
                          "message_ok": "Last 3 hours on track",
                          "message_alert": "Page the SRE team to defend the SLO",
                          "burn_rate_threshold": 9
                        }
                      ]
                    }
                  }
                }
              }
            },
            "tolerance": {
              "name": "there-should-be-error-budget-left",
              "type": "probe",
              "provider": {
                "func": "has_error_budget_left",
                "type": "python",
                "module": "chaosreliably.activities.slo.tolerances",
                "arguments": {
                  "name": "cloudrun-service-availability",
                  "value": [
                    {
                      "name": "cloudrun-service-availability",
                      "description": "Availability of Cloud Run service",
                      "goal": 0.95,
                      "backend": "cloud_monitoring_mql",
                      "gap": -0.0489139999999999,
                      "error_budget_policy_step_name": "3 hours",
                      "error_budget_target": 0.050000000000000044,
                      "error_budget_measurement": 0.09891399999999995,
                      "error_budget_burn_rate": 2.0,
                      "error_budget_burn_rate_threshold": 9.0,
                      "error_budget_minutes": 9.000000000000007,
                      "error_budget_remaining_minutes": -8.804519999999984,
                      "error_minutes": 17.80451999999999,
                      "valid": true,
                      "timestamp": 1675866817,
                      "timestamp_human": "2023-02-08T14:33:37.349392+00:00",
                      "window": 10800,
                      "alert": false,
                      "consequence_message": "Missed for this measurement window, but not enough to alert",
                      "exporters": [],
                      "error_budget_policy": "default",
                      "sli_measurement": 0.901086,
                      "events_count": 15650,
                      "bad_events_count": 1548,
                      "good_events_count": 14102,
                      "metadata": {
                        "name": "cloudrun-service-availability",
                        "labels": {
                          "slo_name": "availability",
                          "feature_name": "service",
                          "service_name": "cloudrun"
                        }
                      },
                      "errors": []
                    }
                  ]
                }
              }
            },
            "_id": "e5af4be30bb1"
          },
          "output": [
            {
              "name": "cloudrun-service-availability",
              "description": "Availability of Cloud Run service",
              "goal": 0.95,
              "backend": "cloud_monitoring_mql",
              "gap": -0.0489139999999999,
              "error_budget_policy_step_name": "3 hours",
              "error_budget_target": 0.050000000000000044,
              "error_budget_measurement": 0.09891399999999995,
              "error_budget_burn_rate": 2.0,
              "error_budget_burn_rate_threshold": 9.0,
              "error_budget_minutes": 9.000000000000007,
              "error_budget_remaining_minutes": -8.804519999999984,
              "error_minutes": 17.80451999999999,
              "valid": true,
              "timestamp": 1675866817,
              "timestamp_human": "2023-02-08T14:33:37.349392+00:00",
              "window": 10800,
              "alert": false,
              "consequence_message": "Missed for this measurement window, but not enough to alert",
              "exporters": [],
              "error_budget_policy": "default",
              "sli_measurement": 0.901086,
              "events_count": 15650,
              "bad_events_count": 1548,
              "good_events_count": 14102,
              "metadata": {
                "name": "cloudrun-service-availability",
                "labels": {
                  "slo_name": "availability",
                  "feature_name": "service",
                  "service_name": "cloudrun"
                }
              },
              "errors": []
            }
          ],
          "start": "2023-02-08T14:33:37.038370",
          "status": "succeeded",
          "end": "2023-02-08T14:33:38.276362",
          "duration": 1.237992,
          "tolerance_met": false
        }
      ]
    },
    "during": []
  },
  "run": [],
  "rollbacks": [],
  "end": "2023-02-08T14:33:39.732770",
  "duration": 4.223815679550171
}