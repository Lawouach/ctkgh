[2023-02-08 13:40:59 DEBUG] [cli:115] ###############################################################################
[2023-02-08 13:40:59 DEBUG] [cli:116] Running command 'run'
[2023-02-08 13:40:59 DEBUG] [cli:120] Using settings file '/home/runner/.config/reliably/plans/0b5b504c-b3d4-4a0a-8e59-b9bb1adad7a9/ctk.yaml'
[2023-02-08 13:40:59 DEBUG] [__init__:243] Loading global control 'reliably-integration-slack' from /home/runner/.config/reliably/plans/0b5b504c-b3d4-4a0a-8e59-b9bb1adad7a9/controls/f5647a66-9c5b-4bef-a801-821864c2e8e1.json
[2023-02-08 13:40:59 DEBUG] [__init__:243] Loading global control 'reliably-integration-opentelemetry' from /home/runner/.config/reliably/plans/0b5b504c-b3d4-4a0a-8e59-b9bb1adad7a9/controls/b9df4af2-0719-405a-b732-41b7496b1de7.json
[2023-02-08 13:41:00 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'loader'
[2023-02-08 13:41:00 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py' does not declare 'before_loading_experiment_control'
[2023-02-08 13:41:00 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'loader'
[2023-02-08 13:41:00 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'before_loading_experiment_control'
[2023-02-08 13:41:00 DEBUG] [loader:129] Fetched experiment: 
    {"title":"SLO error-count-3h / Error budget 5%","method":[],"runtime":{"hypothesis":{"strategy":"after-method-only"}},"version":"1.0.0","controls":[{"name":"reliably","provider":{"type":"python","module":"chaosreliably.controls.experiment","arguments":{"exp_id":"11c4ee0f-16ef-44e5-826e-e2644bf4d426","org_id":"8f67bb6a-4944-40af-80b0-921023467cdc"}}}],"description":"Monitor the health of our demo service from our users perspective and ensure they have a high-quality experience","contributions":{"quality":"low","security":"none","performance":"medium","availability":"high"},"steady-state-hypothesis":{"title":"Compute SLO and validate its Error Budget with our target","probes":[{"name":"get-slo","type":"probe","provider":{"func":"compute_slo","type":"python","module":"chaosreliably.activities.slo.probes","arguments":{"slo":{"kind":"ServiceLevelObjective","spec":{"goal":0.95,"method":"good_bad_ratio","backend":"cloud_monitoring_mql","exporters":[],"description":"Availability of Cloud Run service","service_level_indicator":{"filter_good":"fetch cloud_run_revision | metric 'run.googleapis.com/request_count' | filter resource.project_id == '${CLOUDRUN_PROJECT_ID}' | filter resource.service_name == '${CLOUDRUN_SERVICE_NAME}' | filter metric.response_code_class == '2xx'","filter_valid":"fetch cloud_run_revision | metric 'run.googleapis.com/request_count' | filter resource.project_id == '${CLOUDRUN_PROJECT_ID}' | filter resource.service_name == '${CLOUDRUN_SERVICE_NAME}'"}},"metadata":{"name":"cloudrun-service-availability","labels":{"slo_name":"availability","feature_name":"service","service_name":"cloudrun"}},"apiVersion":"sre.google.com/v2"},"config":{"backends":{"cloud_monitoring_mql":{"project_id":"${STACKDRIVER_HOST_PROJECT_ID}"}},"error_budget_policies":{"default":{"steps":[{"name":"3 hours","alert":false,"window":10800,"message_ok":"Last 3 hours on track","message_alert":"Page the SRE team to defend the SLO","burn_rate_threshold":9}]}}}}},"tolerance":{"name":"there-should-be-error-budget-left","type":"probe","provider":{"func":"has_error_budget_left","type":"python","module":"chaosreliably.activities.slo.tolerances","arguments":{"name":"cloudrun-service-availability"}}}}]}}
[2023-02-08 13:41:00 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'loader'
[2023-02-08 13:41:00 DEBUG] [python:196] Control 'after_loading_experiment_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 13:41:00 DEBUG] [__init__:484] After-control 'reliably-integration-slack' failed
    Traceback (most recent call last):
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaoslib/control/__init__.py", line 465, in apply_controls
        apply_python_control(
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaoslib/control/python.py", line 179, in apply_python_control
        func(context=context, **arguments)
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py", line 41, in after_loading_experiment_control
        send(
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py", line 306, in send
        attachments=attachments(
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py", line 366, in attachments
        "text": f"*{experiment['title']}*",
    TypeError: string indices must be integers
[2023-02-08 13:41:00 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'loader'
[2023-02-08 13:41:00 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'after_loading_experiment_control'
[2023-02-08 13:41:00 DEBUG] [caching:24] Building activity cache...
[2023-02-08 13:41:00 DEBUG] [caching:35] Cached 1 activities
[2023-02-08 13:41:00 INFO] [experiment:58] Validating the experiment's syntax
[2023-02-08 13:41:00 DEBUG] [configuration:63] Loading configuration...
[2023-02-08 13:41:00 DEBUG] [secret:78] Loading secrets...
[2023-02-08 13:41:00 DEBUG] [secret:104] Done loading secrets
[2023-02-08 13:41:00 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'validate_control'
[2023-02-08 13:41:00 INFO] [experiment:109] Experiment looks valid
[2023-02-08 13:41:00 DEBUG] [caching:42] Clearing activities cache
[2023-02-08 13:41:00 DEBUG] [cli:314] Runtime strategies: hypothesis - after-method-only / rollbacks - default
[2023-02-08 13:41:00 DEBUG] [caching:24] Building activity cache...
[2023-02-08 13:41:00 DEBUG] [caching:35] Cached 1 activities
[2023-02-08 13:41:00 DEBUG] [configuration:63] Loading configuration...
[2023-02-08 13:41:00 DEBUG] [secret:78] Loading secrets...
[2023-02-08 13:41:00 DEBUG] [secret:104] Done loading secrets
[2023-02-08 13:41:00 DEBUG] [configuration:160] Loading dynamic configuration...
[2023-02-08 13:41:00 INFO] [run:370] Running experiment: SLO error-count-3h / Error budget 5%
[2023-02-08 13:41:00 DEBUG] [__init__:171] Initializing global control 'reliably-integration-slack'
[2023-02-08 13:41:00 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py' does not declare 'configure_control'
[2023-02-08 13:41:00 DEBUG] [__init__:171] Initializing global control 'reliably-integration-opentelemetry'
[2023-02-08 13:41:00 DEBUG] [python:196] Control 'configure_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py'
[2023-02-08 13:41:00 INFO] [oltp:365] Chaos Toolkit Open Telemetry tracer created
[2023-02-08 13:41:00 DEBUG] [__init__:64] Initializing controls
[2023-02-08 13:41:00 DEBUG] [__init__:73] Initializing control 'reliably'
[2023-02-08 13:41:00 DEBUG] [python:196] Control 'configure_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py'
[2023-02-08 13:41:00 DEBUG] [experiment:402] Configure Reliably's experiment control
[2023-02-08 13:41:01 INFO] [experiment:188] Reliably execution: 84519b79-6711-4e24-b33f-e3878edba9b2
[2023-02-08 13:41:02 DEBUG] [experiment:74] Starting Reliably state checker now
[2023-02-08 13:41:02 INFO] [run:397] Steady-state strategy: after-method-only
[2023-02-08 13:41:02 INFO] [run:401] Rollbacks strategy: default
[2023-02-08 13:41:02 DEBUG] [__init__:459] Applying before-control 'reliably' on 'experiment'
[2023-02-08 13:41:02 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_experiment_control'
[2023-02-08 13:41:02 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'experiment'
[2023-02-08 13:41:02 DEBUG] [python:196] Control 'before_experiment_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 13:41:02 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'experiment'
[2023-02-08 13:41:02 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'before_experiment_control'
[2023-02-08 13:41:02 INFO] [run:664] Playing your experiment's method now...
[2023-02-08 13:41:02 DEBUG] [__init__:459] Applying before-control 'reliably' on 'method'
[2023-02-08 13:41:02 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_method_control'
[2023-02-08 13:41:02 INFO] [activity:133] No declared activities, let's move on.
[2023-02-08 13:41:02 DEBUG] [__init__:459] Applying after-control 'reliably' on 'method'
[2023-02-08 13:41:02 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_method_control'
[2023-02-08 13:41:02 DEBUG] [run:591] Running steady-state hypothesis after the method
[2023-02-08 13:41:02 INFO] [hypothesis:186] Steady state hypothesis: Compute SLO and validate its Error Budget with our target
[2023-02-08 13:41:02 DEBUG] [__init__:459] Applying before-control 'reliably' on 'hypothesis'
[2023-02-08 13:41:02 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_hypothesis_control'
[2023-02-08 13:41:02 DEBUG] [__init__:459] Applying before-control 'reliably' on 'hypothesis'
[2023-02-08 13:41:02 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_hypothesis_control'
[2023-02-08 13:41:02 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'hypothesis'
[2023-02-08 13:41:02 DEBUG] [python:196] Control 'before_hypothesis_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 13:41:02 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'hypothesis'
[2023-02-08 13:41:02 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'before_hypothesis_control'
[2023-02-08 13:41:02 DEBUG] [__init__:459] Applying before-control 'reliably' on 'activity'
[2023-02-08 13:41:02 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_activity_control'
[2023-02-08 13:41:02 DEBUG] [__init__:459] Applying before-control 'reliably' on 'activity'
[2023-02-08 13:41:02 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_activity_control'
[2023-02-08 13:41:02 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'activity'
[2023-02-08 13:41:02 DEBUG] [python:196] Control 'before_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 13:41:02 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'activity'
[2023-02-08 13:41:02 DEBUG] [python:196] Control 'before_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py'
[2023-02-08 13:41:02 INFO] [activity:215] Probe: get-slo
[2023-02-08 13:41:03 DEBUG] [python:33] Activity 'get-slo' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/activities/slo/probes.py'
[2023-02-08 13:41:03 DEBUG] [report:212] cloudrun-service-availability    | 3 hours  | Using backend CloudMonitoringMql.good_bad_ratio (from SLO config file).
[2023-02-08 13:41:03 DEBUG] [cloud_monitoring_mql:222] [point_data {
      values {
        int64_value: 15417
      }
      time_interval {
        end_time {
          seconds: 1675863663
        }
        start_time {
          seconds: 1675852863
          nanos: 999000
        }
      }
    }
    ]
[2023-02-08 13:41:04 DEBUG] [cloud_monitoring_mql:222] [point_data {
      values {
        int64_value: 16969
      }
      time_interval {
        end_time {
          seconds: 1675863663
        }
        start_time {
          seconds: 1675852863
          nanos: 999000
        }
      }
    }
    ]
[2023-02-08 13:41:04 DEBUG] [cloud_monitoring_mql:94] Good events: 15417 | Bad events: 1552
[2023-02-08 13:41:04 DEBUG] [report:226] cloudrun-service-availability    | 3 hours  | Backend response: (15417, 1552)
[2023-02-08 13:41:04 DEBUG] [report:139] cloudrun-service-availability    | 3 hours  | SLO report starting ...
[2023-02-08 13:41:04 DEBUG] [report:257] cloudrun-service-availability    | 3 hours  | Good: 15417 | Bad: 1552
[2023-02-08 13:41:04 INFO] [compute:87] cloudrun-service-availability    | 3 hours  | SLI: 90.8539 % | SLO: 95.0 % | Gap: -4.15 % | BR: 1.8 / 9.0 | Alert: 0 | Good: 15417    | Bad: 1552    
[2023-02-08 13:41:04 DEBUG] [compute:94] [{'alert': False,
      'backend': 'cloud_monitoring_mql',
      'bad_events_count': 1552,
      'consequence_message': 'Missed for this measurement window, but not enough '
                             'to alert',
      'description': 'Availability of Cloud Run service',
      'error_budget_burn_rate': 1.8,
      'error_budget_burn_rate_threshold': 9.0,
      'error_budget_measurement': 0.09146100000000001,
      'error_budget_minutes': 9.000000000000007,
      'error_budget_policy': 'default',
      'error_budget_policy_step_name': '3 hours',
      'error_budget_remaining_minutes': -7.4629799999999955,
      'error_budget_target': 0.050000000000000044,
      'error_minutes': 16.46298,
      'errors': [],
      'events_count': 16969,
      'exporters': [],
      'gap': -0.04146099999999997,
      'goal': 0.95,
      'good_events_count': 15417,
      'metadata': {'labels': {'feature_name': 'service',
                              'service_name': 'cloudrun',
                              'slo_name': 'availability'},
                   'name': 'cloudrun-service-availability'},
      'name': 'cloudrun-service-availability',
      'sli_measurement': 0.908539,
      'timestamp': 1675863663,
      'timestamp_human': '2023-02-08T13:41:03.183196+00:00',
      'valid': True,
      'window': 10800}]
[2023-02-08 13:41:04 INFO] [compute:95] Run finished successfully in 1.0s.
[2023-02-08 13:41:04 DEBUG] [activity:235]   => succeeded with '[{'name': 'cloudrun-service-availability', 'description': 'Availability of Cloud Run service', 'goal': 0.95, 'backend': 'cloud_monitoring_mql', 'gap': -0.04146099999999997, 'error_budget_policy_step_name': '3 hours', 'error_budget_target': 0.050000000000000044, 'error_budget_measurement': 0.09146100000000001, 'error_budget_burn_rate': 1.8, 'error_budget_burn_rate_threshold': 9.0, 'error_budget_minutes': 9.000000000000007, 'error_budget_remaining_minutes': -7.4629799999999955, 'error_minutes': 16.46298, 'valid': True, 'timestamp': 1675863663, 'timestamp_human': '2023-02-08T13:41:03.183196+00:00', 'window': 10800, 'alert': False, 'consequence_message': 'Missed for this measurement window, but not enough to alert', 'exporters': [], 'error_budget_policy': 'default', 'sli_measurement': 0.908539, 'events_count': 16969, 'bad_events_count': 1552, 'good_events_count': 15417, 'metadata': {'name': 'cloudrun-service-availability', 'labels': {'slo_name': 'availability', 'feature_name': 'service', 'service_name': 'cloudrun'}}, 'errors': []}]'
[2023-02-08 13:41:04 DEBUG] [__init__:459] Applying after-control 'reliably' on 'activity'
[2023-02-08 13:41:04 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_activity_control'
[2023-02-08 13:41:04 DEBUG] [__init__:459] Applying after-control 'reliably' on 'activity'
[2023-02-08 13:41:04 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_activity_control'
[2023-02-08 13:41:04 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'activity'
[2023-02-08 13:41:04 DEBUG] [python:196] Control 'after_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 13:41:04 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'activity'
[2023-02-08 13:41:04 DEBUG] [python:196] Control 'after_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py'
[2023-02-08 13:41:04 DEBUG] [hypothesis:226] allowed tolerance is {'name': 'there-should-be-error-budget-left', 'type': 'probe', 'provider': {'func': 'has_error_budget_left', 'type': 'python', 'module': 'chaosreliably.activities.slo.tolerances', 'arguments': {'name': 'cloudrun-service-availability'}}}
[2023-02-08 13:41:04 DEBUG] [python:33] Activity 'there-should-be-error-budget-left' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/activities/slo/tolerances.py'
[2023-02-08 13:41:04 DEBUG] [__init__:459] Applying after-control 'reliably' on 'hypothesis'
[2023-02-08 13:41:04 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_hypothesis_control'
[2023-02-08 13:41:04 DEBUG] [__init__:459] Applying after-control 'reliably' on 'hypothesis'
[2023-02-08 13:41:04 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_hypothesis_control'
[2023-02-08 13:41:04 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'hypothesis'
[2023-02-08 13:41:04 DEBUG] [python:196] Control 'after_hypothesis_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 13:41:05 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'hypothesis'
[2023-02-08 13:41:05 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'after_hypothesis_control'
[2023-02-08 13:41:05 CRITICAL] [run:602] Steady state probe 'get-slo' is not in the given tolerance so failing this experiment
[2023-02-08 13:41:05 INFO] [run:511] Experiment ended with status: deviated
[2023-02-08 13:41:05 INFO] [run:513] The steady-state has deviated, a weakness may have been discovered
[2023-02-08 13:41:05 DEBUG] [__init__:459] Applying after-control 'reliably' on 'experiment'
[2023-02-08 13:41:05 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_experiment_control'
[2023-02-08 13:41:05 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'experiment'
[2023-02-08 13:41:05 DEBUG] [python:196] Control 'after_experiment_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 13:41:05 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'experiment'
[2023-02-08 13:41:05 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'after_experiment_control'
[2023-02-08 13:41:05 DEBUG] [__init__:103] Cleaning up controls
[2023-02-08 13:41:05 DEBUG] [__init__:112] Cleaning up control 'reliably'
[2023-02-08 13:41:05 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'cleanup_control'
[2023-02-08 13:41:05 DEBUG] [__init__:265] Cleaning up global control 'reliably-integration-slack'
[2023-02-08 13:41:05 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py' does not declare 'cleanup_control'
[2023-02-08 13:41:05 DEBUG] [__init__:265] Cleaning up global control 'reliably-integration-opentelemetry'
[2023-02-08 13:41:05 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'cleanup_control'
[2023-02-08 13:41:05 INFO] [experiment:236] Finishing Reliably execution...
[2023-02-08 13:41:05 DEBUG] [experiment:156] Stopping Reliably state checker now
[2023-02-08 13:41:06 INFO] [experiment:289] Finished Reliably execution. Bye!
[2023-02-08 13:41:06 DEBUG] [caching:42] Clearing activities cache
[2023-02-08 13:53:46 DEBUG] [cli:115] ###############################################################################
[2023-02-08 13:53:46 DEBUG] [cli:116] Running command 'run'
[2023-02-08 13:53:46 DEBUG] [cli:120] Using settings file '/home/runner/.config/reliably/plans/0b5b504c-b3d4-4a0a-8e59-b9bb1adad7a9/ctk.yaml'
[2023-02-08 13:53:46 DEBUG] [__init__:243] Loading global control 'reliably-integration-slack' from /home/runner/.config/reliably/plans/0b5b504c-b3d4-4a0a-8e59-b9bb1adad7a9/controls/f5647a66-9c5b-4bef-a801-821864c2e8e1.json
[2023-02-08 13:53:46 DEBUG] [__init__:243] Loading global control 'reliably-integration-opentelemetry' from /home/runner/.config/reliably/plans/0b5b504c-b3d4-4a0a-8e59-b9bb1adad7a9/controls/b9df4af2-0719-405a-b732-41b7496b1de7.json
[2023-02-08 13:53:47 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'loader'
[2023-02-08 13:53:47 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py' does not declare 'before_loading_experiment_control'
[2023-02-08 13:53:47 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'loader'
[2023-02-08 13:53:47 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'before_loading_experiment_control'
[2023-02-08 13:53:47 DEBUG] [loader:129] Fetched experiment: 
    {"title":"SLO error-count-3h / Error budget 5%","method":[],"runtime":{"hypothesis":{"strategy":"after-method-only"}},"version":"1.0.0","controls":[{"name":"reliably","provider":{"type":"python","module":"chaosreliably.controls.experiment","arguments":{"exp_id":"11c4ee0f-16ef-44e5-826e-e2644bf4d426","org_id":"8f67bb6a-4944-40af-80b0-921023467cdc"}}}],"description":"Monitor the health of our demo service from our users perspective and ensure they have a high-quality experience","contributions":{"quality":"low","security":"none","performance":"medium","availability":"high"},"steady-state-hypothesis":{"title":"Compute SLO and validate its Error Budget with our target","probes":[{"name":"get-slo","type":"probe","provider":{"func":"compute_slo","type":"python","module":"chaosreliably.activities.slo.probes","arguments":{"slo":{"kind":"ServiceLevelObjective","spec":{"goal":0.95,"method":"good_bad_ratio","backend":"cloud_monitoring_mql","exporters":[],"description":"Availability of Cloud Run service","service_level_indicator":{"filter_good":"fetch cloud_run_revision | metric 'run.googleapis.com/request_count' | filter resource.project_id == '${CLOUDRUN_PROJECT_ID}' | filter resource.service_name == '${CLOUDRUN_SERVICE_NAME}' | filter metric.response_code_class == '2xx'","filter_valid":"fetch cloud_run_revision | metric 'run.googleapis.com/request_count' | filter resource.project_id == '${CLOUDRUN_PROJECT_ID}' | filter resource.service_name == '${CLOUDRUN_SERVICE_NAME}'"}},"metadata":{"name":"cloudrun-service-availability","labels":{"slo_name":"availability","feature_name":"service","service_name":"cloudrun"}},"apiVersion":"sre.google.com/v2"},"config":{"backends":{"cloud_monitoring_mql":{"project_id":"${STACKDRIVER_HOST_PROJECT_ID}"}},"error_budget_policies":{"default":{"steps":[{"name":"3 hours","alert":false,"window":10800,"message_ok":"Last 3 hours on track","message_alert":"Page the SRE team to defend the SLO","burn_rate_threshold":9}]}}}}},"tolerance":{"name":"there-should-be-error-budget-left","type":"probe","provider":{"func":"has_error_budget_left","type":"python","module":"chaosreliably.activities.slo.tolerances","arguments":{"name":"cloudrun-service-availability"}}}}]}}
[2023-02-08 13:53:47 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'loader'
[2023-02-08 13:53:47 DEBUG] [python:196] Control 'after_loading_experiment_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 13:53:47 DEBUG] [__init__:484] After-control 'reliably-integration-slack' failed
    Traceback (most recent call last):
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaoslib/control/__init__.py", line 465, in apply_controls
        apply_python_control(
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaoslib/control/python.py", line 179, in apply_python_control
        func(context=context, **arguments)
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py", line 41, in after_loading_experiment_control
        send(
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py", line 306, in send
        attachments=attachments(
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py", line 366, in attachments
        "text": f"*{experiment['title']}*",
    TypeError: string indices must be integers
[2023-02-08 13:53:47 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'loader'
[2023-02-08 13:53:47 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'after_loading_experiment_control'
[2023-02-08 13:53:47 DEBUG] [caching:24] Building activity cache...
[2023-02-08 13:53:47 DEBUG] [caching:35] Cached 1 activities
[2023-02-08 13:53:47 INFO] [experiment:58] Validating the experiment's syntax
[2023-02-08 13:53:47 DEBUG] [configuration:63] Loading configuration...
[2023-02-08 13:53:47 DEBUG] [secret:78] Loading secrets...
[2023-02-08 13:53:47 DEBUG] [secret:104] Done loading secrets
[2023-02-08 13:53:47 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'validate_control'
[2023-02-08 13:53:47 INFO] [experiment:109] Experiment looks valid
[2023-02-08 13:53:47 DEBUG] [caching:42] Clearing activities cache
[2023-02-08 13:53:47 DEBUG] [cli:314] Runtime strategies: hypothesis - after-method-only / rollbacks - default
[2023-02-08 13:53:47 DEBUG] [caching:24] Building activity cache...
[2023-02-08 13:53:47 DEBUG] [caching:35] Cached 1 activities
[2023-02-08 13:53:47 DEBUG] [configuration:63] Loading configuration...
[2023-02-08 13:53:47 DEBUG] [secret:78] Loading secrets...
[2023-02-08 13:53:47 DEBUG] [secret:104] Done loading secrets
[2023-02-08 13:53:47 DEBUG] [configuration:160] Loading dynamic configuration...
[2023-02-08 13:53:47 INFO] [run:370] Running experiment: SLO error-count-3h / Error budget 5%
[2023-02-08 13:53:47 DEBUG] [__init__:171] Initializing global control 'reliably-integration-slack'
[2023-02-08 13:53:47 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py' does not declare 'configure_control'
[2023-02-08 13:53:47 DEBUG] [__init__:171] Initializing global control 'reliably-integration-opentelemetry'
[2023-02-08 13:53:47 DEBUG] [python:196] Control 'configure_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py'
[2023-02-08 13:53:47 INFO] [oltp:365] Chaos Toolkit Open Telemetry tracer created
[2023-02-08 13:53:47 DEBUG] [__init__:64] Initializing controls
[2023-02-08 13:53:47 DEBUG] [__init__:73] Initializing control 'reliably'
[2023-02-08 13:53:47 DEBUG] [python:196] Control 'configure_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py'
[2023-02-08 13:53:47 DEBUG] [experiment:402] Configure Reliably's experiment control
[2023-02-08 13:53:48 INFO] [experiment:188] Reliably execution: a99fe4fb-0dce-44ef-86c2-6f63c6377fc8
[2023-02-08 13:53:48 DEBUG] [experiment:74] Starting Reliably state checker now
[2023-02-08 13:53:48 INFO] [run:397] Steady-state strategy: after-method-only
[2023-02-08 13:53:48 INFO] [run:401] Rollbacks strategy: default
[2023-02-08 13:53:48 DEBUG] [__init__:459] Applying before-control 'reliably' on 'experiment'
[2023-02-08 13:53:48 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_experiment_control'
[2023-02-08 13:53:48 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'experiment'
[2023-02-08 13:53:48 DEBUG] [python:196] Control 'before_experiment_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 13:53:48 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'experiment'
[2023-02-08 13:53:48 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'before_experiment_control'
[2023-02-08 13:53:48 INFO] [run:664] Playing your experiment's method now...
[2023-02-08 13:53:48 DEBUG] [__init__:459] Applying before-control 'reliably' on 'method'
[2023-02-08 13:53:48 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_method_control'
[2023-02-08 13:53:48 INFO] [activity:133] No declared activities, let's move on.
[2023-02-08 13:53:48 DEBUG] [__init__:459] Applying after-control 'reliably' on 'method'
[2023-02-08 13:53:48 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_method_control'
[2023-02-08 13:53:48 DEBUG] [run:591] Running steady-state hypothesis after the method
[2023-02-08 13:53:48 INFO] [hypothesis:186] Steady state hypothesis: Compute SLO and validate its Error Budget with our target
[2023-02-08 13:53:48 DEBUG] [__init__:459] Applying before-control 'reliably' on 'hypothesis'
[2023-02-08 13:53:48 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_hypothesis_control'
[2023-02-08 13:53:48 DEBUG] [__init__:459] Applying before-control 'reliably' on 'hypothesis'
[2023-02-08 13:53:48 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_hypothesis_control'
[2023-02-08 13:53:48 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'hypothesis'
[2023-02-08 13:53:48 DEBUG] [python:196] Control 'before_hypothesis_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 13:53:48 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'hypothesis'
[2023-02-08 13:53:48 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'before_hypothesis_control'
[2023-02-08 13:53:48 DEBUG] [__init__:459] Applying before-control 'reliably' on 'activity'
[2023-02-08 13:53:48 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_activity_control'
[2023-02-08 13:53:48 DEBUG] [__init__:459] Applying before-control 'reliably' on 'activity'
[2023-02-08 13:53:48 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_activity_control'
[2023-02-08 13:53:48 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'activity'
[2023-02-08 13:53:48 DEBUG] [python:196] Control 'before_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 13:53:48 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'activity'
[2023-02-08 13:53:48 DEBUG] [python:196] Control 'before_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py'
[2023-02-08 13:53:48 INFO] [activity:215] Probe: get-slo
[2023-02-08 13:53:49 DEBUG] [python:33] Activity 'get-slo' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/activities/slo/probes.py'
[2023-02-08 13:53:49 DEBUG] [report:212] cloudrun-service-availability    | 3 hours  | Using backend CloudMonitoringMql.good_bad_ratio (from SLO config file).
[2023-02-08 13:53:49 DEBUG] [cloud_monitoring_mql:222] [point_data {
      values {
        int64_value: 14580
      }
      time_interval {
        end_time {
          seconds: 1675864429
        }
        start_time {
          seconds: 1675853629
          nanos: 999000
        }
      }
    }
    ]
[2023-02-08 13:53:50 DEBUG] [cloud_monitoring_mql:222] [point_data {
      values {
        int64_value: 16131
      }
      time_interval {
        end_time {
          seconds: 1675864429
        }
        start_time {
          seconds: 1675853629
          nanos: 999000
        }
      }
    }
    ]
[2023-02-08 13:53:50 DEBUG] [cloud_monitoring_mql:94] Good events: 14580 | Bad events: 1551
[2023-02-08 13:53:50 DEBUG] [report:226] cloudrun-service-availability    | 3 hours  | Backend response: (14580, 1551)
[2023-02-08 13:53:50 DEBUG] [report:139] cloudrun-service-availability    | 3 hours  | SLO report starting ...
[2023-02-08 13:53:50 DEBUG] [report:257] cloudrun-service-availability    | 3 hours  | Good: 14580 | Bad: 1551
[2023-02-08 13:53:50 INFO] [compute:87] cloudrun-service-availability    | 3 hours  | SLI: 90.385  % | SLO: 95.0 % | Gap: -4.61 % | BR: 1.9 / 9.0 | Alert: 0 | Good: 14580    | Bad: 1551    
[2023-02-08 13:53:50 DEBUG] [compute:94] [{'alert': False,
      'backend': 'cloud_monitoring_mql',
      'bad_events_count': 1551,
      'consequence_message': 'Missed for this measurement window, but not enough '
                             'to alert',
      'description': 'Availability of Cloud Run service',
      'error_budget_burn_rate': 1.9,
      'error_budget_burn_rate_threshold': 9.0,
      'error_budget_measurement': 0.09614999999999996,
      'error_budget_minutes': 9.000000000000007,
      'error_budget_policy': 'default',
      'error_budget_policy_step_name': '3 hours',
      'error_budget_remaining_minutes': -8.306999999999984,
      'error_budget_target': 0.050000000000000044,
      'error_minutes': 17.306999999999995,
      'errors': [],
      'events_count': 16131,
      'exporters': [],
      'gap': -0.04614999999999991,
      'goal': 0.95,
      'good_events_count': 14580,
      'metadata': {'labels': {'feature_name': 'service',
                              'service_name': 'cloudrun',
                              'slo_name': 'availability'},
                   'name': 'cloudrun-service-availability'},
      'name': 'cloudrun-service-availability',
      'sli_measurement': 0.90385,
      'timestamp': 1675864429,
      'timestamp_human': '2023-02-08T13:53:49.245501+00:00',
      'valid': True,
      'window': 10800}]
[2023-02-08 13:53:50 INFO] [compute:95] Run finished successfully in 0.9s.
[2023-02-08 13:53:50 DEBUG] [activity:235]   => succeeded with '[{'name': 'cloudrun-service-availability', 'description': 'Availability of Cloud Run service', 'goal': 0.95, 'backend': 'cloud_monitoring_mql', 'gap': -0.04614999999999991, 'error_budget_policy_step_name': '3 hours', 'error_budget_target': 0.050000000000000044, 'error_budget_measurement': 0.09614999999999996, 'error_budget_burn_rate': 1.9, 'error_budget_burn_rate_threshold': 9.0, 'error_budget_minutes': 9.000000000000007, 'error_budget_remaining_minutes': -8.306999999999984, 'error_minutes': 17.306999999999995, 'valid': True, 'timestamp': 1675864429, 'timestamp_human': '2023-02-08T13:53:49.245501+00:00', 'window': 10800, 'alert': False, 'consequence_message': 'Missed for this measurement window, but not enough to alert', 'exporters': [], 'error_budget_policy': 'default', 'sli_measurement': 0.90385, 'events_count': 16131, 'bad_events_count': 1551, 'good_events_count': 14580, 'metadata': {'name': 'cloudrun-service-availability', 'labels': {'slo_name': 'availability', 'feature_name': 'service', 'service_name': 'cloudrun'}}, 'errors': []}]'
[2023-02-08 13:53:50 DEBUG] [__init__:459] Applying after-control 'reliably' on 'activity'
[2023-02-08 13:53:50 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_activity_control'
[2023-02-08 13:53:50 DEBUG] [__init__:459] Applying after-control 'reliably' on 'activity'
[2023-02-08 13:53:50 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_activity_control'
[2023-02-08 13:53:50 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'activity'
[2023-02-08 13:53:50 DEBUG] [python:196] Control 'after_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 13:53:51 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'activity'
[2023-02-08 13:53:51 DEBUG] [python:196] Control 'after_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py'
[2023-02-08 13:53:51 DEBUG] [hypothesis:226] allowed tolerance is {'name': 'there-should-be-error-budget-left', 'type': 'probe', 'provider': {'func': 'has_error_budget_left', 'type': 'python', 'module': 'chaosreliably.activities.slo.tolerances', 'arguments': {'name': 'cloudrun-service-availability'}}}
[2023-02-08 13:53:51 DEBUG] [python:33] Activity 'there-should-be-error-budget-left' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/activities/slo/tolerances.py'
[2023-02-08 13:53:51 DEBUG] [__init__:459] Applying after-control 'reliably' on 'hypothesis'
[2023-02-08 13:53:51 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_hypothesis_control'
[2023-02-08 13:53:51 DEBUG] [__init__:459] Applying after-control 'reliably' on 'hypothesis'
[2023-02-08 13:53:51 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_hypothesis_control'
[2023-02-08 13:53:51 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'hypothesis'
[2023-02-08 13:53:51 DEBUG] [python:196] Control 'after_hypothesis_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 13:53:51 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'hypothesis'
[2023-02-08 13:53:51 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'after_hypothesis_control'
[2023-02-08 13:53:51 CRITICAL] [run:602] Steady state probe 'get-slo' is not in the given tolerance so failing this experiment
[2023-02-08 13:53:51 INFO] [run:511] Experiment ended with status: deviated
[2023-02-08 13:53:51 INFO] [run:513] The steady-state has deviated, a weakness may have been discovered
[2023-02-08 13:53:51 DEBUG] [__init__:459] Applying after-control 'reliably' on 'experiment'
[2023-02-08 13:53:51 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_experiment_control'
[2023-02-08 13:53:51 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'experiment'
[2023-02-08 13:53:51 DEBUG] [python:196] Control 'after_experiment_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 13:53:51 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'experiment'
[2023-02-08 13:53:51 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'after_experiment_control'
[2023-02-08 13:53:51 DEBUG] [__init__:103] Cleaning up controls
[2023-02-08 13:53:51 DEBUG] [__init__:112] Cleaning up control 'reliably'
[2023-02-08 13:53:51 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'cleanup_control'
[2023-02-08 13:53:51 DEBUG] [__init__:265] Cleaning up global control 'reliably-integration-slack'
[2023-02-08 13:53:51 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py' does not declare 'cleanup_control'
[2023-02-08 13:53:51 DEBUG] [__init__:265] Cleaning up global control 'reliably-integration-opentelemetry'
[2023-02-08 13:53:51 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'cleanup_control'
[2023-02-08 13:53:51 INFO] [experiment:236] Finishing Reliably execution...
[2023-02-08 13:53:52 DEBUG] [experiment:156] Stopping Reliably state checker now
[2023-02-08 13:53:53 INFO] [experiment:289] Finished Reliably execution. Bye!
[2023-02-08 13:53:53 DEBUG] [caching:42] Clearing activities cache
[2023-02-08 14:19:53 DEBUG] [cli:115] ###############################################################################
[2023-02-08 14:19:53 DEBUG] [cli:116] Running command 'run'
[2023-02-08 14:19:53 DEBUG] [cli:120] Using settings file '/home/runner/.config/reliably/plans/0b5b504c-b3d4-4a0a-8e59-b9bb1adad7a9/ctk.yaml'
[2023-02-08 14:19:53 DEBUG] [__init__:243] Loading global control 'reliably-integration-slack' from /home/runner/.config/reliably/plans/0b5b504c-b3d4-4a0a-8e59-b9bb1adad7a9/controls/f5647a66-9c5b-4bef-a801-821864c2e8e1.json
[2023-02-08 14:19:54 DEBUG] [__init__:243] Loading global control 'reliably-integration-opentelemetry' from /home/runner/.config/reliably/plans/0b5b504c-b3d4-4a0a-8e59-b9bb1adad7a9/controls/b9df4af2-0719-405a-b732-41b7496b1de7.json
[2023-02-08 14:19:54 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'loader'
[2023-02-08 14:19:54 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py' does not declare 'before_loading_experiment_control'
[2023-02-08 14:19:54 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'loader'
[2023-02-08 14:19:54 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'before_loading_experiment_control'
[2023-02-08 14:19:55 DEBUG] [loader:129] Fetched experiment: 
    {"title":"SLO error-count-3h / Error budget 5%","method":[],"runtime":{"hypothesis":{"strategy":"after-method-only"}},"version":"1.0.0","controls":[{"name":"reliably","provider":{"type":"python","module":"chaosreliably.controls.experiment","arguments":{"exp_id":"11c4ee0f-16ef-44e5-826e-e2644bf4d426","org_id":"8f67bb6a-4944-40af-80b0-921023467cdc"}}}],"description":"Monitor the health of our demo service from our users perspective and ensure they have a high-quality experience","contributions":{"quality":"low","security":"none","performance":"medium","availability":"high"},"steady-state-hypothesis":{"title":"Compute SLO and validate its Error Budget with our target","probes":[{"name":"get-slo","type":"probe","provider":{"func":"compute_slo","type":"python","module":"chaosreliably.activities.slo.probes","arguments":{"slo":{"kind":"ServiceLevelObjective","spec":{"goal":0.95,"method":"good_bad_ratio","backend":"cloud_monitoring_mql","exporters":[],"description":"Availability of Cloud Run service","service_level_indicator":{"filter_good":"fetch cloud_run_revision | metric 'run.googleapis.com/request_count' | filter resource.project_id == '${CLOUDRUN_PROJECT_ID}' | filter resource.service_name == '${CLOUDRUN_SERVICE_NAME}' | filter metric.response_code_class == '2xx'","filter_valid":"fetch cloud_run_revision | metric 'run.googleapis.com/request_count' | filter resource.project_id == '${CLOUDRUN_PROJECT_ID}' | filter resource.service_name == '${CLOUDRUN_SERVICE_NAME}'"}},"metadata":{"name":"cloudrun-service-availability","labels":{"slo_name":"availability","feature_name":"service","service_name":"cloudrun"}},"apiVersion":"sre.google.com/v2"},"config":{"backends":{"cloud_monitoring_mql":{"project_id":"${STACKDRIVER_HOST_PROJECT_ID}"}},"error_budget_policies":{"default":{"steps":[{"name":"3 hours","alert":false,"window":10800,"message_ok":"Last 3 hours on track","message_alert":"Page the SRE team to defend the SLO","burn_rate_threshold":9}]}}}}},"tolerance":{"name":"there-should-be-error-budget-left","type":"probe","provider":{"func":"has_error_budget_left","type":"python","module":"chaosreliably.activities.slo.tolerances","arguments":{"name":"cloudrun-service-availability"}}}}]}}
[2023-02-08 14:19:55 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'loader'
[2023-02-08 14:19:55 DEBUG] [python:196] Control 'after_loading_experiment_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:19:55 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'loader'
[2023-02-08 14:19:55 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'after_loading_experiment_control'
[2023-02-08 14:19:55 DEBUG] [caching:24] Building activity cache...
[2023-02-08 14:19:55 DEBUG] [caching:35] Cached 1 activities
[2023-02-08 14:19:55 INFO] [experiment:58] Validating the experiment's syntax
[2023-02-08 14:19:55 DEBUG] [configuration:63] Loading configuration...
[2023-02-08 14:19:55 DEBUG] [secret:78] Loading secrets...
[2023-02-08 14:19:55 DEBUG] [secret:104] Done loading secrets
[2023-02-08 14:19:55 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'validate_control'
[2023-02-08 14:19:55 INFO] [experiment:109] Experiment looks valid
[2023-02-08 14:19:55 DEBUG] [caching:42] Clearing activities cache
[2023-02-08 14:19:55 DEBUG] [cli:314] Runtime strategies: hypothesis - after-method-only / rollbacks - default
[2023-02-08 14:19:55 DEBUG] [caching:24] Building activity cache...
[2023-02-08 14:19:55 DEBUG] [caching:35] Cached 1 activities
[2023-02-08 14:19:55 DEBUG] [configuration:63] Loading configuration...
[2023-02-08 14:19:55 DEBUG] [secret:78] Loading secrets...
[2023-02-08 14:19:55 DEBUG] [secret:104] Done loading secrets
[2023-02-08 14:19:55 DEBUG] [configuration:160] Loading dynamic configuration...
[2023-02-08 14:19:55 INFO] [run:370] Running experiment: SLO error-count-3h / Error budget 5%
[2023-02-08 14:19:55 DEBUG] [__init__:171] Initializing global control 'reliably-integration-slack'
[2023-02-08 14:19:55 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py' does not declare 'configure_control'
[2023-02-08 14:19:55 DEBUG] [__init__:171] Initializing global control 'reliably-integration-opentelemetry'
[2023-02-08 14:19:55 DEBUG] [python:196] Control 'configure_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py'
[2023-02-08 14:19:55 INFO] [oltp:365] Chaos Toolkit Open Telemetry tracer created
[2023-02-08 14:19:55 DEBUG] [__init__:64] Initializing controls
[2023-02-08 14:19:55 DEBUG] [__init__:73] Initializing control 'reliably'
[2023-02-08 14:19:55 DEBUG] [python:196] Control 'configure_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py'
[2023-02-08 14:19:55 DEBUG] [experiment:402] Configure Reliably's experiment control
[2023-02-08 14:19:55 INFO] [experiment:188] Reliably execution: f6e1a44a-7625-4588-a9c1-285b87486aba
[2023-02-08 14:19:56 DEBUG] [experiment:74] Starting Reliably state checker now
[2023-02-08 14:19:56 INFO] [run:397] Steady-state strategy: after-method-only
[2023-02-08 14:19:56 INFO] [run:401] Rollbacks strategy: default
[2023-02-08 14:19:56 DEBUG] [__init__:459] Applying before-control 'reliably' on 'experiment'
[2023-02-08 14:19:56 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_experiment_control'
[2023-02-08 14:19:56 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'experiment'
[2023-02-08 14:19:56 DEBUG] [python:196] Control 'before_experiment_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:19:56 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'experiment'
[2023-02-08 14:19:56 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'before_experiment_control'
[2023-02-08 14:19:56 INFO] [run:664] Playing your experiment's method now...
[2023-02-08 14:19:56 DEBUG] [__init__:459] Applying before-control 'reliably' on 'method'
[2023-02-08 14:19:56 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_method_control'
[2023-02-08 14:19:56 INFO] [activity:133] No declared activities, let's move on.
[2023-02-08 14:19:56 DEBUG] [__init__:459] Applying after-control 'reliably' on 'method'
[2023-02-08 14:19:56 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_method_control'
[2023-02-08 14:19:56 DEBUG] [run:591] Running steady-state hypothesis after the method
[2023-02-08 14:19:56 INFO] [hypothesis:186] Steady state hypothesis: Compute SLO and validate its Error Budget with our target
[2023-02-08 14:19:56 DEBUG] [__init__:459] Applying before-control 'reliably' on 'hypothesis'
[2023-02-08 14:19:56 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_hypothesis_control'
[2023-02-08 14:19:56 DEBUG] [__init__:459] Applying before-control 'reliably' on 'hypothesis'
[2023-02-08 14:19:56 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_hypothesis_control'
[2023-02-08 14:19:56 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'hypothesis'
[2023-02-08 14:19:56 DEBUG] [python:196] Control 'before_hypothesis_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:19:57 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'hypothesis'
[2023-02-08 14:19:57 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'before_hypothesis_control'
[2023-02-08 14:19:57 DEBUG] [__init__:459] Applying before-control 'reliably' on 'activity'
[2023-02-08 14:19:57 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_activity_control'
[2023-02-08 14:19:57 DEBUG] [__init__:459] Applying before-control 'reliably' on 'activity'
[2023-02-08 14:19:57 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_activity_control'
[2023-02-08 14:19:57 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'activity'
[2023-02-08 14:19:57 DEBUG] [python:196] Control 'before_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:19:57 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'activity'
[2023-02-08 14:19:57 DEBUG] [python:196] Control 'before_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py'
[2023-02-08 14:19:57 INFO] [activity:215] Probe: get-slo
[2023-02-08 14:19:57 DEBUG] [python:33] Activity 'get-slo' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/activities/slo/probes.py'
[2023-02-08 14:19:58 DEBUG] [report:212] cloudrun-service-availability    | 3 hours  | Using backend CloudMonitoringMql.good_bad_ratio (from SLO config file).
[2023-02-08 14:19:58 DEBUG] [cloud_monitoring_mql:222] [point_data {
      values {
        int64_value: 14102
      }
      time_interval {
        end_time {
          seconds: 1675865997
        }
        start_time {
          seconds: 1675855197
          nanos: 999000
        }
      }
    }
    ]
[2023-02-08 14:19:58 DEBUG] [cloud_monitoring_mql:222] [point_data {
      values {
        int64_value: 15652
      }
      time_interval {
        end_time {
          seconds: 1675865997
        }
        start_time {
          seconds: 1675855197
          nanos: 999000
        }
      }
    }
    ]
[2023-02-08 14:19:58 DEBUG] [cloud_monitoring_mql:94] Good events: 14102 | Bad events: 1550
[2023-02-08 14:19:58 DEBUG] [report:226] cloudrun-service-availability    | 3 hours  | Backend response: (14102, 1550)
[2023-02-08 14:19:58 DEBUG] [report:139] cloudrun-service-availability    | 3 hours  | SLO report starting ...
[2023-02-08 14:19:58 DEBUG] [report:257] cloudrun-service-availability    | 3 hours  | Good: 14102 | Bad: 1550
[2023-02-08 14:19:58 INFO] [compute:87] cloudrun-service-availability    | 3 hours  | SLI: 90.0971 % | SLO: 95.0 % | Gap: -4.9  % | BR: 2.0 / 9.0 | Alert: 0 | Good: 14102    | Bad: 1550    
[2023-02-08 14:19:58 DEBUG] [compute:94] [{'alert': False,
      'backend': 'cloud_monitoring_mql',
      'bad_events_count': 1550,
      'consequence_message': 'Missed for this measurement window, but not enough '
                             'to alert',
      'description': 'Availability of Cloud Run service',
      'error_budget_burn_rate': 2.0,
      'error_budget_burn_rate_threshold': 9.0,
      'error_budget_measurement': 0.09902900000000003,
      'error_budget_minutes': 9.000000000000007,
      'error_budget_policy': 'default',
      'error_budget_policy_step_name': '3 hours',
      'error_budget_remaining_minutes': -8.825219999999998,
      'error_budget_target': 0.050000000000000044,
      'error_minutes': 17.825220000000005,
      'errors': [],
      'events_count': 15652,
      'exporters': [],
      'gap': -0.04902899999999999,
      'goal': 0.95,
      'good_events_count': 14102,
      'metadata': {'labels': {'feature_name': 'service',
                              'service_name': 'cloudrun',
                              'slo_name': 'availability'},
                   'name': 'cloudrun-service-availability'},
      'name': 'cloudrun-service-availability',
      'sli_measurement': 0.900971,
      'timestamp': 1675865997,
      'timestamp_human': '2023-02-08T14:19:57.941097+00:00',
      'valid': True,
      'window': 10800}]
[2023-02-08 14:19:58 INFO] [compute:95] Run finished successfully in 1.0s.
[2023-02-08 14:19:58 DEBUG] [activity:235]   => succeeded with '[{'name': 'cloudrun-service-availability', 'description': 'Availability of Cloud Run service', 'goal': 0.95, 'backend': 'cloud_monitoring_mql', 'gap': -0.04902899999999999, 'error_budget_policy_step_name': '3 hours', 'error_budget_target': 0.050000000000000044, 'error_budget_measurement': 0.09902900000000003, 'error_budget_burn_rate': 2.0, 'error_budget_burn_rate_threshold': 9.0, 'error_budget_minutes': 9.000000000000007, 'error_budget_remaining_minutes': -8.825219999999998, 'error_minutes': 17.825220000000005, 'valid': True, 'timestamp': 1675865997, 'timestamp_human': '2023-02-08T14:19:57.941097+00:00', 'window': 10800, 'alert': False, 'consequence_message': 'Missed for this measurement window, but not enough to alert', 'exporters': [], 'error_budget_policy': 'default', 'sli_measurement': 0.900971, 'events_count': 15652, 'bad_events_count': 1550, 'good_events_count': 14102, 'metadata': {'name': 'cloudrun-service-availability', 'labels': {'slo_name': 'availability', 'feature_name': 'service', 'service_name': 'cloudrun'}}, 'errors': []}]'
[2023-02-08 14:19:59 DEBUG] [__init__:459] Applying after-control 'reliably' on 'activity'
[2023-02-08 14:19:59 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_activity_control'
[2023-02-08 14:19:59 DEBUG] [__init__:459] Applying after-control 'reliably' on 'activity'
[2023-02-08 14:19:59 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_activity_control'
[2023-02-08 14:19:59 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'activity'
[2023-02-08 14:19:59 DEBUG] [python:196] Control 'after_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:19:59 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'activity'
[2023-02-08 14:19:59 DEBUG] [python:196] Control 'after_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py'
[2023-02-08 14:19:59 DEBUG] [hypothesis:226] allowed tolerance is {'name': 'there-should-be-error-budget-left', 'type': 'probe', 'provider': {'func': 'has_error_budget_left', 'type': 'python', 'module': 'chaosreliably.activities.slo.tolerances', 'arguments': {'name': 'cloudrun-service-availability'}}}
[2023-02-08 14:19:59 DEBUG] [python:33] Activity 'there-should-be-error-budget-left' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/activities/slo/tolerances.py'
[2023-02-08 14:19:59 DEBUG] [__init__:459] Applying after-control 'reliably' on 'hypothesis'
[2023-02-08 14:19:59 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_hypothesis_control'
[2023-02-08 14:19:59 DEBUG] [__init__:459] Applying after-control 'reliably' on 'hypothesis'
[2023-02-08 14:19:59 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_hypothesis_control'
[2023-02-08 14:19:59 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'hypothesis'
[2023-02-08 14:19:59 DEBUG] [python:196] Control 'after_hypothesis_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:20:00 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'hypothesis'
[2023-02-08 14:20:00 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'after_hypothesis_control'
[2023-02-08 14:20:00 CRITICAL] [run:602] Steady state probe 'get-slo' is not in the given tolerance so failing this experiment
[2023-02-08 14:20:00 INFO] [run:511] Experiment ended with status: deviated
[2023-02-08 14:20:00 INFO] [run:513] The steady-state has deviated, a weakness may have been discovered
[2023-02-08 14:20:00 DEBUG] [__init__:459] Applying after-control 'reliably' on 'experiment'
[2023-02-08 14:20:00 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_experiment_control'
[2023-02-08 14:20:00 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'experiment'
[2023-02-08 14:20:00 DEBUG] [python:196] Control 'after_experiment_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:20:00 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'experiment'
[2023-02-08 14:20:00 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'after_experiment_control'
[2023-02-08 14:20:00 DEBUG] [__init__:103] Cleaning up controls
[2023-02-08 14:20:00 DEBUG] [__init__:112] Cleaning up control 'reliably'
[2023-02-08 14:20:00 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'cleanup_control'
[2023-02-08 14:20:00 DEBUG] [__init__:265] Cleaning up global control 'reliably-integration-slack'
[2023-02-08 14:20:00 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py' does not declare 'cleanup_control'
[2023-02-08 14:20:00 DEBUG] [__init__:265] Cleaning up global control 'reliably-integration-opentelemetry'
[2023-02-08 14:20:00 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'cleanup_control'
[2023-02-08 14:20:00 INFO] [experiment:236] Finishing Reliably execution...
[2023-02-08 14:20:01 DEBUG] [experiment:156] Stopping Reliably state checker now
[2023-02-08 14:20:02 DEBUG] [run:174] Handler ReliablyHandler failed
    Traceback (most recent call last):
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaoslib/run.py", line 172, in finish
        h.finish(journal)
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py", line 272, in finish
        set_execution_state(
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py", line 626, in set_execution_state
        f"Failed to set execution state: {r.status_code}: {r.json()}"
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/httpx/_models.py", line 756, in json
        return jsonlib.loads(self.text, **kwargs)
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/json/__init__.py", line 346, in loads
        return _default_decoder.decode(s)
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/json/decoder.py", line 337, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/json/decoder.py", line 355, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
[2023-02-08 14:20:02 DEBUG] [caching:42] Clearing activities cache
[2023-02-08 14:33:34 DEBUG] [cli:115] ###############################################################################
[2023-02-08 14:33:34 DEBUG] [cli:116] Running command 'run'
[2023-02-08 14:33:34 DEBUG] [cli:120] Using settings file '/home/runner/.config/reliably/plans/0b5b504c-b3d4-4a0a-8e59-b9bb1adad7a9/ctk.yaml'
[2023-02-08 14:33:34 DEBUG] [__init__:243] Loading global control 'reliably-integration-slack' from /home/runner/.config/reliably/plans/0b5b504c-b3d4-4a0a-8e59-b9bb1adad7a9/controls/f5647a66-9c5b-4bef-a801-821864c2e8e1.json
[2023-02-08 14:33:34 DEBUG] [__init__:243] Loading global control 'reliably-integration-opentelemetry' from /home/runner/.config/reliably/plans/0b5b504c-b3d4-4a0a-8e59-b9bb1adad7a9/controls/b9df4af2-0719-405a-b732-41b7496b1de7.json
[2023-02-08 14:33:34 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'loader'
[2023-02-08 14:33:34 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py' does not declare 'before_loading_experiment_control'
[2023-02-08 14:33:34 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'loader'
[2023-02-08 14:33:34 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'before_loading_experiment_control'
[2023-02-08 14:33:35 DEBUG] [loader:129] Fetched experiment: 
    {"title":"SLO error-count-3h / Error budget 5%","method":[],"runtime":{"hypothesis":{"strategy":"after-method-only"}},"version":"1.0.0","controls":[{"name":"reliably","provider":{"type":"python","module":"chaosreliably.controls.experiment","arguments":{"exp_id":"11c4ee0f-16ef-44e5-826e-e2644bf4d426","org_id":"8f67bb6a-4944-40af-80b0-921023467cdc"}}}],"description":"Monitor the health of our demo service from our users perspective and ensure they have a high-quality experience","contributions":{"quality":"low","security":"none","performance":"medium","availability":"high"},"steady-state-hypothesis":{"title":"Compute SLO and validate its Error Budget with our target","probes":[{"name":"get-slo","type":"probe","provider":{"func":"compute_slo","type":"python","module":"chaosreliably.activities.slo.probes","arguments":{"slo":{"kind":"ServiceLevelObjective","spec":{"goal":0.95,"method":"good_bad_ratio","backend":"cloud_monitoring_mql","exporters":[],"description":"Availability of Cloud Run service","service_level_indicator":{"filter_good":"fetch cloud_run_revision | metric 'run.googleapis.com/request_count' | filter resource.project_id == '${CLOUDRUN_PROJECT_ID}' | filter resource.service_name == '${CLOUDRUN_SERVICE_NAME}' | filter metric.response_code_class == '2xx'","filter_valid":"fetch cloud_run_revision | metric 'run.googleapis.com/request_count' | filter resource.project_id == '${CLOUDRUN_PROJECT_ID}' | filter resource.service_name == '${CLOUDRUN_SERVICE_NAME}'"}},"metadata":{"name":"cloudrun-service-availability","labels":{"slo_name":"availability","feature_name":"service","service_name":"cloudrun"}},"apiVersion":"sre.google.com/v2"},"config":{"backends":{"cloud_monitoring_mql":{"project_id":"${STACKDRIVER_HOST_PROJECT_ID}"}},"error_budget_policies":{"default":{"steps":[{"name":"3 hours","alert":false,"window":10800,"message_ok":"Last 3 hours on track","message_alert":"Page the SRE team to defend the SLO","burn_rate_threshold":9}]}}}}},"tolerance":{"name":"there-should-be-error-budget-left","type":"probe","provider":{"func":"has_error_budget_left","type":"python","module":"chaosreliably.activities.slo.tolerances","arguments":{"name":"cloudrun-service-availability"}}}}]}}
[2023-02-08 14:33:35 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'loader'
[2023-02-08 14:33:35 DEBUG] [python:196] Control 'after_loading_experiment_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:33:35 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'loader'
[2023-02-08 14:33:35 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'after_loading_experiment_control'
[2023-02-08 14:33:35 DEBUG] [caching:24] Building activity cache...
[2023-02-08 14:33:35 DEBUG] [caching:35] Cached 1 activities
[2023-02-08 14:33:35 INFO] [experiment:58] Validating the experiment's syntax
[2023-02-08 14:33:35 DEBUG] [configuration:63] Loading configuration...
[2023-02-08 14:33:35 DEBUG] [secret:78] Loading secrets...
[2023-02-08 14:33:35 DEBUG] [secret:104] Done loading secrets
[2023-02-08 14:33:35 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'validate_control'
[2023-02-08 14:33:35 INFO] [experiment:109] Experiment looks valid
[2023-02-08 14:33:35 DEBUG] [caching:42] Clearing activities cache
[2023-02-08 14:33:35 DEBUG] [cli:314] Runtime strategies: hypothesis - after-method-only / rollbacks - default
[2023-02-08 14:33:35 DEBUG] [caching:24] Building activity cache...
[2023-02-08 14:33:35 DEBUG] [caching:35] Cached 1 activities
[2023-02-08 14:33:35 DEBUG] [configuration:63] Loading configuration...
[2023-02-08 14:33:35 DEBUG] [secret:78] Loading secrets...
[2023-02-08 14:33:35 DEBUG] [secret:104] Done loading secrets
[2023-02-08 14:33:35 DEBUG] [configuration:160] Loading dynamic configuration...
[2023-02-08 14:33:35 INFO] [run:370] Running experiment: SLO error-count-3h / Error budget 5%
[2023-02-08 14:33:35 DEBUG] [__init__:171] Initializing global control 'reliably-integration-slack'
[2023-02-08 14:33:35 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py' does not declare 'configure_control'
[2023-02-08 14:33:35 DEBUG] [__init__:171] Initializing global control 'reliably-integration-opentelemetry'
[2023-02-08 14:33:35 DEBUG] [python:196] Control 'configure_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py'
[2023-02-08 14:33:35 INFO] [oltp:365] Chaos Toolkit Open Telemetry tracer created
[2023-02-08 14:33:35 DEBUG] [__init__:64] Initializing controls
[2023-02-08 14:33:35 DEBUG] [__init__:73] Initializing control 'reliably'
[2023-02-08 14:33:35 DEBUG] [python:196] Control 'configure_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py'
[2023-02-08 14:33:35 DEBUG] [experiment:402] Configure Reliably's experiment control
[2023-02-08 14:33:36 INFO] [experiment:188] Reliably execution: 87dea0bc-2912-4929-ba61-d07378b10fd1
[2023-02-08 14:33:36 DEBUG] [experiment:74] Starting Reliably state checker now
[2023-02-08 14:33:36 INFO] [run:397] Steady-state strategy: after-method-only
[2023-02-08 14:33:36 INFO] [run:401] Rollbacks strategy: default
[2023-02-08 14:33:36 DEBUG] [__init__:459] Applying before-control 'reliably' on 'experiment'
[2023-02-08 14:33:36 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_experiment_control'
[2023-02-08 14:33:36 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'experiment'
[2023-02-08 14:33:36 DEBUG] [python:196] Control 'before_experiment_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:33:36 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'experiment'
[2023-02-08 14:33:36 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'before_experiment_control'
[2023-02-08 14:33:36 INFO] [run:664] Playing your experiment's method now...
[2023-02-08 14:33:36 DEBUG] [__init__:459] Applying before-control 'reliably' on 'method'
[2023-02-08 14:33:36 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_method_control'
[2023-02-08 14:33:36 INFO] [activity:133] No declared activities, let's move on.
[2023-02-08 14:33:36 DEBUG] [__init__:459] Applying after-control 'reliably' on 'method'
[2023-02-08 14:33:36 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_method_control'
[2023-02-08 14:33:36 DEBUG] [run:591] Running steady-state hypothesis after the method
[2023-02-08 14:33:36 INFO] [hypothesis:186] Steady state hypothesis: Compute SLO and validate its Error Budget with our target
[2023-02-08 14:33:36 DEBUG] [__init__:459] Applying before-control 'reliably' on 'hypothesis'
[2023-02-08 14:33:36 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_hypothesis_control'
[2023-02-08 14:33:36 DEBUG] [__init__:459] Applying before-control 'reliably' on 'hypothesis'
[2023-02-08 14:33:36 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_hypothesis_control'
[2023-02-08 14:33:36 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'hypothesis'
[2023-02-08 14:33:36 DEBUG] [python:196] Control 'before_hypothesis_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:33:36 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'hypothesis'
[2023-02-08 14:33:36 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'before_hypothesis_control'
[2023-02-08 14:33:36 DEBUG] [__init__:459] Applying before-control 'reliably' on 'activity'
[2023-02-08 14:33:36 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_activity_control'
[2023-02-08 14:33:36 DEBUG] [__init__:459] Applying before-control 'reliably' on 'activity'
[2023-02-08 14:33:36 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_activity_control'
[2023-02-08 14:33:36 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'activity'
[2023-02-08 14:33:36 DEBUG] [python:196] Control 'before_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:33:37 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'activity'
[2023-02-08 14:33:37 DEBUG] [python:196] Control 'before_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py'
[2023-02-08 14:33:37 INFO] [activity:215] Probe: get-slo
[2023-02-08 14:33:37 DEBUG] [python:33] Activity 'get-slo' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/activities/slo/probes.py'
[2023-02-08 14:33:37 DEBUG] [report:212] cloudrun-service-availability    | 3 hours  | Using backend CloudMonitoringMql.good_bad_ratio (from SLO config file).
[2023-02-08 14:33:37 DEBUG] [cloud_monitoring_mql:222] [point_data {
      values {
        int64_value: 14102
      }
      time_interval {
        end_time {
          seconds: 1675866817
        }
        start_time {
          seconds: 1675856017
          nanos: 999000
        }
      }
    }
    ]
[2023-02-08 14:33:38 DEBUG] [cloud_monitoring_mql:222] [point_data {
      values {
        int64_value: 15650
      }
      time_interval {
        end_time {
          seconds: 1675866817
        }
        start_time {
          seconds: 1675856017
          nanos: 999000
        }
      }
    }
    ]
[2023-02-08 14:33:38 DEBUG] [cloud_monitoring_mql:94] Good events: 14102 | Bad events: 1548
[2023-02-08 14:33:38 DEBUG] [report:226] cloudrun-service-availability    | 3 hours  | Backend response: (14102, 1548)
[2023-02-08 14:33:38 DEBUG] [report:139] cloudrun-service-availability    | 3 hours  | SLO report starting ...
[2023-02-08 14:33:38 DEBUG] [report:257] cloudrun-service-availability    | 3 hours  | Good: 14102 | Bad: 1548
[2023-02-08 14:33:38 INFO] [compute:87] cloudrun-service-availability    | 3 hours  | SLI: 90.1086 % | SLO: 95.0 % | Gap: -4.89 % | BR: 2.0 / 9.0 | Alert: 0 | Good: 14102    | Bad: 1548    
[2023-02-08 14:33:38 DEBUG] [compute:94] [{'alert': False,
      'backend': 'cloud_monitoring_mql',
      'bad_events_count': 1548,
      'consequence_message': 'Missed for this measurement window, but not enough '
                             'to alert',
      'description': 'Availability of Cloud Run service',
      'error_budget_burn_rate': 2.0,
      'error_budget_burn_rate_threshold': 9.0,
      'error_budget_measurement': 0.09891399999999995,
      'error_budget_minutes': 9.000000000000007,
      'error_budget_policy': 'default',
      'error_budget_policy_step_name': '3 hours',
      'error_budget_remaining_minutes': -8.804519999999984,
      'error_budget_target': 0.050000000000000044,
      'error_minutes': 17.80451999999999,
      'errors': [],
      'events_count': 15650,
      'exporters': [],
      'gap': -0.0489139999999999,
      'goal': 0.95,
      'good_events_count': 14102,
      'metadata': {'labels': {'feature_name': 'service',
                              'service_name': 'cloudrun',
                              'slo_name': 'availability'},
                   'name': 'cloudrun-service-availability'},
      'name': 'cloudrun-service-availability',
      'sli_measurement': 0.901086,
      'timestamp': 1675866817,
      'timestamp_human': '2023-02-08T14:33:37.349392+00:00',
      'valid': True,
      'window': 10800}]
[2023-02-08 14:33:38 INFO] [compute:95] Run finished successfully in 0.9s.
[2023-02-08 14:33:38 DEBUG] [activity:235]   => succeeded with '[{'name': 'cloudrun-service-availability', 'description': 'Availability of Cloud Run service', 'goal': 0.95, 'backend': 'cloud_monitoring_mql', 'gap': -0.0489139999999999, 'error_budget_policy_step_name': '3 hours', 'error_budget_target': 0.050000000000000044, 'error_budget_measurement': 0.09891399999999995, 'error_budget_burn_rate': 2.0, 'error_budget_burn_rate_threshold': 9.0, 'error_budget_minutes': 9.000000000000007, 'error_budget_remaining_minutes': -8.804519999999984, 'error_minutes': 17.80451999999999, 'valid': True, 'timestamp': 1675866817, 'timestamp_human': '2023-02-08T14:33:37.349392+00:00', 'window': 10800, 'alert': False, 'consequence_message': 'Missed for this measurement window, but not enough to alert', 'exporters': [], 'error_budget_policy': 'default', 'sli_measurement': 0.901086, 'events_count': 15650, 'bad_events_count': 1548, 'good_events_count': 14102, 'metadata': {'name': 'cloudrun-service-availability', 'labels': {'slo_name': 'availability', 'feature_name': 'service', 'service_name': 'cloudrun'}}, 'errors': []}]'
[2023-02-08 14:33:38 DEBUG] [__init__:459] Applying after-control 'reliably' on 'activity'
[2023-02-08 14:33:38 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_activity_control'
[2023-02-08 14:33:38 DEBUG] [__init__:459] Applying after-control 'reliably' on 'activity'
[2023-02-08 14:33:38 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_activity_control'
[2023-02-08 14:33:38 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'activity'
[2023-02-08 14:33:38 DEBUG] [python:196] Control 'after_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:33:38 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'activity'
[2023-02-08 14:33:38 DEBUG] [python:196] Control 'after_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py'
[2023-02-08 14:33:38 DEBUG] [hypothesis:226] allowed tolerance is {'name': 'there-should-be-error-budget-left', 'type': 'probe', 'provider': {'func': 'has_error_budget_left', 'type': 'python', 'module': 'chaosreliably.activities.slo.tolerances', 'arguments': {'name': 'cloudrun-service-availability'}}}
[2023-02-08 14:33:38 DEBUG] [python:33] Activity 'there-should-be-error-budget-left' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/activities/slo/tolerances.py'
[2023-02-08 14:33:38 DEBUG] [__init__:459] Applying after-control 'reliably' on 'hypothesis'
[2023-02-08 14:33:38 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_hypothesis_control'
[2023-02-08 14:33:38 DEBUG] [__init__:459] Applying after-control 'reliably' on 'hypothesis'
[2023-02-08 14:33:38 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_hypothesis_control'
[2023-02-08 14:33:38 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'hypothesis'
[2023-02-08 14:33:38 DEBUG] [python:196] Control 'after_hypothesis_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:33:39 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'hypothesis'
[2023-02-08 14:33:39 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'after_hypothesis_control'
[2023-02-08 14:33:39 CRITICAL] [run:602] Steady state probe 'get-slo' is not in the given tolerance so failing this experiment
[2023-02-08 14:33:39 INFO] [run:511] Experiment ended with status: deviated
[2023-02-08 14:33:39 INFO] [run:513] The steady-state has deviated, a weakness may have been discovered
[2023-02-08 14:33:39 DEBUG] [__init__:459] Applying after-control 'reliably' on 'experiment'
[2023-02-08 14:33:39 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_experiment_control'
[2023-02-08 14:33:39 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'experiment'
[2023-02-08 14:33:39 DEBUG] [python:196] Control 'after_experiment_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:33:39 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'experiment'
[2023-02-08 14:33:39 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'after_experiment_control'
[2023-02-08 14:33:39 DEBUG] [__init__:103] Cleaning up controls
[2023-02-08 14:33:39 DEBUG] [__init__:112] Cleaning up control 'reliably'
[2023-02-08 14:33:39 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'cleanup_control'
[2023-02-08 14:33:39 DEBUG] [__init__:265] Cleaning up global control 'reliably-integration-slack'
[2023-02-08 14:33:39 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py' does not declare 'cleanup_control'
[2023-02-08 14:33:39 DEBUG] [__init__:265] Cleaning up global control 'reliably-integration-opentelemetry'
[2023-02-08 14:33:39 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'cleanup_control'
[2023-02-08 14:33:39 INFO] [experiment:236] Finishing Reliably execution...
[2023-02-08 14:33:40 DEBUG] [experiment:156] Stopping Reliably state checker now
[2023-02-08 14:33:41 INFO] [experiment:289] Finished Reliably execution. Bye!
[2023-02-08 14:33:41 DEBUG] [caching:42] Clearing activities cache
[2023-02-08 14:48:49 DEBUG] [cli:115] ###############################################################################
[2023-02-08 14:48:49 DEBUG] [cli:116] Running command 'run'
[2023-02-08 14:48:49 DEBUG] [cli:120] Using settings file '/home/runner/.config/reliably/plans/0b5b504c-b3d4-4a0a-8e59-b9bb1adad7a9/ctk.yaml'
[2023-02-08 14:48:49 DEBUG] [__init__:243] Loading global control 'reliably-integration-slack' from /home/runner/.config/reliably/plans/0b5b504c-b3d4-4a0a-8e59-b9bb1adad7a9/controls/f5647a66-9c5b-4bef-a801-821864c2e8e1.json
[2023-02-08 14:48:50 DEBUG] [__init__:243] Loading global control 'reliably-integration-opentelemetry' from /home/runner/.config/reliably/plans/0b5b504c-b3d4-4a0a-8e59-b9bb1adad7a9/controls/b9df4af2-0719-405a-b732-41b7496b1de7.json
[2023-02-08 14:48:50 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'loader'
[2023-02-08 14:48:50 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py' does not declare 'before_loading_experiment_control'
[2023-02-08 14:48:50 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'loader'
[2023-02-08 14:48:50 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'before_loading_experiment_control'
[2023-02-08 14:48:50 DEBUG] [loader:129] Fetched experiment: 
    {"title":"SLO error-count-3h / Error budget 5%","method":[],"runtime":{"hypothesis":{"strategy":"after-method-only"}},"version":"1.0.0","controls":[{"name":"reliably","provider":{"type":"python","module":"chaosreliably.controls.experiment","arguments":{"exp_id":"11c4ee0f-16ef-44e5-826e-e2644bf4d426","org_id":"8f67bb6a-4944-40af-80b0-921023467cdc"}}}],"description":"Monitor the health of our demo service from our users perspective and ensure they have a high-quality experience","contributions":{"quality":"low","security":"none","performance":"medium","availability":"high"},"steady-state-hypothesis":{"title":"Compute SLO and validate its Error Budget with our target","probes":[{"name":"get-slo","type":"probe","provider":{"func":"compute_slo","type":"python","module":"chaosreliably.activities.slo.probes","arguments":{"slo":{"kind":"ServiceLevelObjective","spec":{"goal":0.95,"method":"good_bad_ratio","backend":"cloud_monitoring_mql","exporters":[],"description":"Availability of Cloud Run service","service_level_indicator":{"filter_good":"fetch cloud_run_revision | metric 'run.googleapis.com/request_count' | filter resource.project_id == '${CLOUDRUN_PROJECT_ID}' | filter resource.service_name == '${CLOUDRUN_SERVICE_NAME}' | filter metric.response_code_class == '2xx'","filter_valid":"fetch cloud_run_revision | metric 'run.googleapis.com/request_count' | filter resource.project_id == '${CLOUDRUN_PROJECT_ID}' | filter resource.service_name == '${CLOUDRUN_SERVICE_NAME}'"}},"metadata":{"name":"cloudrun-service-availability","labels":{"slo_name":"availability","feature_name":"service","service_name":"cloudrun"}},"apiVersion":"sre.google.com/v2"},"config":{"backends":{"cloud_monitoring_mql":{"project_id":"${STACKDRIVER_HOST_PROJECT_ID}"}},"error_budget_policies":{"default":{"steps":[{"name":"3 hours","alert":false,"window":10800,"message_ok":"Last 3 hours on track","message_alert":"Page the SRE team to defend the SLO","burn_rate_threshold":9}]}}}}},"tolerance":{"name":"there-should-be-error-budget-left","type":"probe","provider":{"func":"has_error_budget_left","type":"python","module":"chaosreliably.activities.slo.tolerances","arguments":{"name":"cloudrun-service-availability"}}}}]}}
[2023-02-08 14:48:50 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'loader'
[2023-02-08 14:48:50 DEBUG] [python:196] Control 'after_loading_experiment_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:48:50 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'loader'
[2023-02-08 14:48:50 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'after_loading_experiment_control'
[2023-02-08 14:48:50 DEBUG] [caching:24] Building activity cache...
[2023-02-08 14:48:50 DEBUG] [caching:35] Cached 1 activities
[2023-02-08 14:48:50 INFO] [experiment:58] Validating the experiment's syntax
[2023-02-08 14:48:50 DEBUG] [configuration:63] Loading configuration...
[2023-02-08 14:48:50 DEBUG] [secret:78] Loading secrets...
[2023-02-08 14:48:50 DEBUG] [secret:104] Done loading secrets
[2023-02-08 14:48:51 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'validate_control'
[2023-02-08 14:48:51 INFO] [experiment:109] Experiment looks valid
[2023-02-08 14:48:51 DEBUG] [caching:42] Clearing activities cache
[2023-02-08 14:48:51 DEBUG] [cli:314] Runtime strategies: hypothesis - after-method-only / rollbacks - default
[2023-02-08 14:48:51 DEBUG] [caching:24] Building activity cache...
[2023-02-08 14:48:51 DEBUG] [caching:35] Cached 1 activities
[2023-02-08 14:48:51 DEBUG] [configuration:63] Loading configuration...
[2023-02-08 14:48:51 DEBUG] [secret:78] Loading secrets...
[2023-02-08 14:48:51 DEBUG] [secret:104] Done loading secrets
[2023-02-08 14:48:51 DEBUG] [configuration:160] Loading dynamic configuration...
[2023-02-08 14:48:51 INFO] [run:370] Running experiment: SLO error-count-3h / Error budget 5%
[2023-02-08 14:48:51 DEBUG] [__init__:171] Initializing global control 'reliably-integration-slack'
[2023-02-08 14:48:51 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py' does not declare 'configure_control'
[2023-02-08 14:48:51 DEBUG] [__init__:171] Initializing global control 'reliably-integration-opentelemetry'
[2023-02-08 14:48:51 DEBUG] [python:196] Control 'configure_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py'
[2023-02-08 14:48:51 INFO] [oltp:365] Chaos Toolkit Open Telemetry tracer created
[2023-02-08 14:48:51 DEBUG] [__init__:64] Initializing controls
[2023-02-08 14:48:51 DEBUG] [__init__:73] Initializing control 'reliably'
[2023-02-08 14:48:51 DEBUG] [python:196] Control 'configure_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py'
[2023-02-08 14:48:51 DEBUG] [experiment:402] Configure Reliably's experiment control
[2023-02-08 14:48:51 INFO] [experiment:188] Reliably execution: f1ff8e33-be73-4dfa-a5c1-8f81643c8db8
[2023-02-08 14:48:52 DEBUG] [experiment:74] Starting Reliably state checker now
[2023-02-08 14:48:52 INFO] [run:397] Steady-state strategy: after-method-only
[2023-02-08 14:48:52 INFO] [run:401] Rollbacks strategy: default
[2023-02-08 14:48:52 DEBUG] [__init__:459] Applying before-control 'reliably' on 'experiment'
[2023-02-08 14:48:52 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_experiment_control'
[2023-02-08 14:48:52 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'experiment'
[2023-02-08 14:48:52 DEBUG] [python:196] Control 'before_experiment_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:48:52 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'experiment'
[2023-02-08 14:48:52 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'before_experiment_control'
[2023-02-08 14:48:52 INFO] [run:664] Playing your experiment's method now...
[2023-02-08 14:48:52 DEBUG] [__init__:459] Applying before-control 'reliably' on 'method'
[2023-02-08 14:48:52 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_method_control'
[2023-02-08 14:48:52 INFO] [activity:133] No declared activities, let's move on.
[2023-02-08 14:48:52 DEBUG] [__init__:459] Applying after-control 'reliably' on 'method'
[2023-02-08 14:48:52 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_method_control'
[2023-02-08 14:48:52 DEBUG] [run:591] Running steady-state hypothesis after the method
[2023-02-08 14:48:52 INFO] [hypothesis:186] Steady state hypothesis: Compute SLO and validate its Error Budget with our target
[2023-02-08 14:48:52 DEBUG] [__init__:459] Applying before-control 'reliably' on 'hypothesis'
[2023-02-08 14:48:52 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_hypothesis_control'
[2023-02-08 14:48:52 DEBUG] [__init__:459] Applying before-control 'reliably' on 'hypothesis'
[2023-02-08 14:48:52 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_hypothesis_control'
[2023-02-08 14:48:52 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'hypothesis'
[2023-02-08 14:48:52 DEBUG] [python:196] Control 'before_hypothesis_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:48:52 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'hypothesis'
[2023-02-08 14:48:52 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'before_hypothesis_control'
[2023-02-08 14:48:52 DEBUG] [__init__:459] Applying before-control 'reliably' on 'activity'
[2023-02-08 14:48:52 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_activity_control'
[2023-02-08 14:48:52 DEBUG] [__init__:459] Applying before-control 'reliably' on 'activity'
[2023-02-08 14:48:52 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'before_activity_control'
[2023-02-08 14:48:52 DEBUG] [__init__:459] Applying before-control 'reliably-integration-slack' on 'activity'
[2023-02-08 14:48:52 DEBUG] [python:196] Control 'before_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:48:52 DEBUG] [__init__:459] Applying before-control 'reliably-integration-opentelemetry' on 'activity'
[2023-02-08 14:48:52 DEBUG] [python:196] Control 'before_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py'
[2023-02-08 14:48:52 INFO] [activity:215] Probe: get-slo
[2023-02-08 14:48:53 DEBUG] [python:33] Activity 'get-slo' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/activities/slo/probes.py'
[2023-02-08 14:48:53 DEBUG] [report:212] cloudrun-service-availability    | 3 hours  | Using backend CloudMonitoringMql.good_bad_ratio (from SLO config file).
[2023-02-08 14:48:53 DEBUG] [cloud_monitoring_mql:222] [point_data {
      values {
        int64_value: 14102
      }
      time_interval {
        end_time {
          seconds: 1675867733
        }
        start_time {
          seconds: 1675856933
          nanos: 999000
        }
      }
    }
    ]
[2023-02-08 14:48:54 DEBUG] [cloud_monitoring_mql:222] [point_data {
      values {
        int64_value: 15653
      }
      time_interval {
        end_time {
          seconds: 1675867733
        }
        start_time {
          seconds: 1675856933
          nanos: 999000
        }
      }
    }
    ]
[2023-02-08 14:48:54 DEBUG] [cloud_monitoring_mql:94] Good events: 14102 | Bad events: 1551
[2023-02-08 14:48:54 DEBUG] [report:226] cloudrun-service-availability    | 3 hours  | Backend response: (14102, 1551)
[2023-02-08 14:48:54 DEBUG] [report:139] cloudrun-service-availability    | 3 hours  | SLO report starting ...
[2023-02-08 14:48:54 DEBUG] [report:257] cloudrun-service-availability    | 3 hours  | Good: 14102 | Bad: 1551
[2023-02-08 14:48:54 INFO] [compute:87] cloudrun-service-availability    | 3 hours  | SLI: 90.0914 % | SLO: 95.0 % | Gap: -4.91 % | BR: 2.0 / 9.0 | Alert: 0 | Good: 14102    | Bad: 1551    
[2023-02-08 14:48:54 DEBUG] [compute:94] [{'alert': False,
      'backend': 'cloud_monitoring_mql',
      'bad_events_count': 1551,
      'consequence_message': 'Missed for this measurement window, but not enough '
                             'to alert',
      'description': 'Availability of Cloud Run service',
      'error_budget_burn_rate': 2.0,
      'error_budget_burn_rate_threshold': 9.0,
      'error_budget_measurement': 0.09908600000000001,
      'error_budget_minutes': 9.000000000000007,
      'error_budget_policy': 'default',
      'error_budget_policy_step_name': '3 hours',
      'error_budget_remaining_minutes': -8.835479999999993,
      'error_budget_target': 0.050000000000000044,
      'error_minutes': 17.835480000000004,
      'errors': [],
      'events_count': 15653,
      'exporters': [],
      'gap': -0.04908599999999996,
      'goal': 0.95,
      'good_events_count': 14102,
      'metadata': {'labels': {'feature_name': 'service',
                              'service_name': 'cloudrun',
                              'slo_name': 'availability'},
                   'name': 'cloudrun-service-availability'},
      'name': 'cloudrun-service-availability',
      'sli_measurement': 0.900914,
      'timestamp': 1675867733,
      'timestamp_human': '2023-02-08T14:48:53.223001+00:00',
      'valid': True,
      'window': 10800}]
[2023-02-08 14:48:54 INFO] [compute:95] Run finished successfully in 1.0s.
[2023-02-08 14:48:54 DEBUG] [activity:235]   => succeeded with '[{'name': 'cloudrun-service-availability', 'description': 'Availability of Cloud Run service', 'goal': 0.95, 'backend': 'cloud_monitoring_mql', 'gap': -0.04908599999999996, 'error_budget_policy_step_name': '3 hours', 'error_budget_target': 0.050000000000000044, 'error_budget_measurement': 0.09908600000000001, 'error_budget_burn_rate': 2.0, 'error_budget_burn_rate_threshold': 9.0, 'error_budget_minutes': 9.000000000000007, 'error_budget_remaining_minutes': -8.835479999999993, 'error_minutes': 17.835480000000004, 'valid': True, 'timestamp': 1675867733, 'timestamp_human': '2023-02-08T14:48:53.223001+00:00', 'window': 10800, 'alert': False, 'consequence_message': 'Missed for this measurement window, but not enough to alert', 'exporters': [], 'error_budget_policy': 'default', 'sli_measurement': 0.900914, 'events_count': 15653, 'bad_events_count': 1551, 'good_events_count': 14102, 'metadata': {'name': 'cloudrun-service-availability', 'labels': {'slo_name': 'availability', 'feature_name': 'service', 'service_name': 'cloudrun'}}, 'errors': []}]'
[2023-02-08 14:48:54 DEBUG] [__init__:459] Applying after-control 'reliably' on 'activity'
[2023-02-08 14:48:54 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_activity_control'
[2023-02-08 14:48:54 DEBUG] [__init__:459] Applying after-control 'reliably' on 'activity'
[2023-02-08 14:48:54 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_activity_control'
[2023-02-08 14:48:54 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'activity'
[2023-02-08 14:48:54 DEBUG] [python:196] Control 'after_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:48:55 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'activity'
[2023-02-08 14:48:55 DEBUG] [python:196] Control 'after_activity_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py'
[2023-02-08 14:48:55 DEBUG] [hypothesis:226] allowed tolerance is {'name': 'there-should-be-error-budget-left', 'type': 'probe', 'provider': {'func': 'has_error_budget_left', 'type': 'python', 'module': 'chaosreliably.activities.slo.tolerances', 'arguments': {'name': 'cloudrun-service-availability'}}}
[2023-02-08 14:48:55 DEBUG] [python:33] Activity 'there-should-be-error-budget-left' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/activities/slo/tolerances.py'
[2023-02-08 14:48:55 DEBUG] [__init__:459] Applying after-control 'reliably' on 'hypothesis'
[2023-02-08 14:48:55 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_hypothesis_control'
[2023-02-08 14:48:55 DEBUG] [__init__:459] Applying after-control 'reliably' on 'hypothesis'
[2023-02-08 14:48:55 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_hypothesis_control'
[2023-02-08 14:48:55 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'hypothesis'
[2023-02-08 14:48:55 DEBUG] [python:196] Control 'after_hypothesis_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:49:05 DEBUG] [__init__:484] After-control 'reliably-integration-slack' failed
    Traceback (most recent call last):
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/slack_sdk/web/base_client.py", line 299, in _urllib_api_call
        response_body_data = json.loads(response["body"])
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/json/__init__.py", line 346, in loads
        return _default_decoder.decode(s)
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/json/decoder.py", line 337, in decode
        obj, end = self.raw_decode(s, idx=_w(s, 0).end())
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/json/decoder.py", line 355, in raw_decode
        raise JSONDecodeError("Expecting value", s, err.value) from None
    json.decoder.JSONDecodeError: Expecting value: line 1 column 1 (char 0)
    
    During handling of the above exception, another exception occurred:
    
    Traceback (most recent call last):
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaoslib/control/__init__.py", line 465, in apply_controls
        apply_python_control(
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaoslib/control/python.py", line 179, in apply_python_control
        func(context=context, **arguments)
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py", line 129, in after_hypothesis_control
        send(
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py", line 313, in send
        r = client.files_upload(
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/slack_sdk/web/client.py", line 2993, in files_upload
        return self.api_call("files.upload", data=kwargs)
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/slack_sdk/web/base_client.py", line 156, in api_call
        return self._sync_send(api_url=api_url, req_args=req_args)
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/slack_sdk/web/base_client.py", line 187, in _sync_send
        return self._urllib_api_call(
      File "/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/slack_sdk/web/base_client.py", line 302, in _urllib_api_call
        raise err.SlackApiError(message, response)
    slack_sdk.errors.SlackApiError: Received a response in a non-JSON format: stream timeout
    The server responded with: {'status': 408, 'headers': {'x-edge-backend': 'envoy-www', 'content-length': '14', 'content-type': 'text/plain', 'x-slack-edge-shared-secret-outcome': 'no-match', 'date': 'Wed, 08 Feb 2023 14:49:04 GMT', 'server': 'envoy', 'via': 'envoy-edge-iad-qffn', 'connection': 'close'}, 'body': 'stream timeout'}
[2023-02-08 14:49:05 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'hypothesis'
[2023-02-08 14:49:05 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'after_hypothesis_control'
[2023-02-08 14:49:05 CRITICAL] [run:602] Steady state probe 'get-slo' is not in the given tolerance so failing this experiment
[2023-02-08 14:49:05 INFO] [run:511] Experiment ended with status: deviated
[2023-02-08 14:49:05 INFO] [run:513] The steady-state has deviated, a weakness may have been discovered
[2023-02-08 14:49:05 DEBUG] [__init__:459] Applying after-control 'reliably' on 'experiment'
[2023-02-08 14:49:05 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'after_experiment_control'
[2023-02-08 14:49:05 DEBUG] [__init__:459] Applying after-control 'reliably-integration-slack' on 'experiment'
[2023-02-08 14:49:05 DEBUG] [python:196] Control 'after_experiment_control' loaded from '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py'
[2023-02-08 14:49:05 DEBUG] [__init__:459] Applying after-control 'reliably-integration-opentelemetry' on 'experiment'
[2023-02-08 14:49:05 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'after_experiment_control'
[2023-02-08 14:49:05 DEBUG] [__init__:103] Cleaning up controls
[2023-02-08 14:49:05 DEBUG] [__init__:112] Cleaning up control 'reliably'
[2023-02-08 14:49:05 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosreliably/controls/experiment.py' does not declare 'cleanup_control'
[2023-02-08 14:49:05 DEBUG] [__init__:265] Cleaning up global control 'reliably-integration-slack'
[2023-02-08 14:49:05 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaosslack/control.py' does not declare 'cleanup_control'
[2023-02-08 14:49:05 DEBUG] [__init__:265] Cleaning up global control 'reliably-integration-opentelemetry'
[2023-02-08 14:49:05 DEBUG] [python:192] Control module '/opt/hostedtoolcache/Python/3.10.9/x64/lib/python3.10/site-packages/chaostracing/oltp.py' does not declare 'cleanup_control'
[2023-02-08 14:49:05 INFO] [experiment:236] Finishing Reliably execution...
[2023-02-08 14:49:05 DEBUG] [experiment:156] Stopping Reliably state checker now
[2023-02-08 14:49:07 INFO] [experiment:289] Finished Reliably execution. Bye!
[2023-02-08 14:49:07 DEBUG] [caching:42] Clearing activities cache
